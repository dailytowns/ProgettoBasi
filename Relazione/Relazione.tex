\documentclass[12pt,a4paper,onecolumn,x11names]{article}

%%%%%%https://www.eso.org/public/italy/news/eso1212/ CITARE?%%%

%%%%%%Package utilizzati%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{makeidx}
\usepackage{dirtree}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{lmodern}
\usepackage{picins}
\usepackage{algpseudocode}
\usepackage{frontespizio}
\usepackage[italian]{babel}
\usepackage{color}
\usepackage[utf8]{inputenc}
\usepackage{fancyvrb}
\usepackage[usenames,dvipsnames,table]{xcolor}
\usepackage{hyperref}
\usepackage{framed}
\usepackage{wrapfig}
\usepackage{chronosys}

%Intestazione 
\usepackage{fancyhdr}
\pagestyle{fancy}

%%%Timeline%%%
%\usepackage{chronosys}

%Per impaginare due tabelle sulla stessa riga
\def \hfillx {\hspace*{-\textwidth} \hfill}

\usepackage{listings}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstdefinestyle{mystyle}{frame=tb,
  language=C,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve}, 
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3}

\lstdefinestyle{mystyleSQL}{frame=tb,
	language=SQL,
	aboveskip=3mm,
	belowskip=3mm,
	showstringspaces=false,
	columns=flexible,
	basicstyle={\small\ttfamily},
	numbers=none,
	numberstyle=\tiny\color{gray},
	keywordstyle=\color{blue},
	commentstyle=\color{dkgreen},
	stringstyle=\color{mauve}, 
	breaklines=true,
	breakatwhitespace=true,
	tabsize=3}
\lstset{style=mystyle}
\lstset{language=SQL}

\fvset{frame=single,framesep=1mm,fontfamily=courier,fontsize=\scriptsize,
	numbers=left,framerule=.3mm,numbersep=1mm,commandchars=\\\{\}}
\makeatletter
\makeatother
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry}

%%%GRAFICA&&&&&&
\usepackage{tikz}
\usetikzlibrary{chains}
\usetikzlibrary{shapes,arrows}
\usetikzlibrary{er}
%Pacchetto utile per i diagrammi uml
%\usepackage{tikz-uml}
\usetikzlibrary{arrows, decorations.markings}
\usetikzlibrary{positioning,calc}
\include{./tikzer2}
\usepackage[simplified]{pgf-umlcd}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%Apertura del documento%%%%%%%%%%%%%%%%%%%%%%%
\title{Relazione al Progetto di Basi di Dati}
\author{Federico Amici}

\begin{document}
	
\begin{titlepage}
\maketitle

	\vspace{3cm}
	\begin{center}
		\begin{figure}[h]
			\includegraphics{relmod.jpg}
			\caption{Lucido del seminario "An Introduction to Relational Data Base" tenuto nel 1976 da C. J. Date}
		\end{figure}
	\end{center}
		
\newpage
\end{titlepage}

\tableofcontents
\listoftables
\listoffigures
\vspace{50mm}
\begin{flushleft}
	Il progetto è stato sviluppato tramite l'IDE Intellij IDEA di JetBrains, scaricato gratuitamente tramite l'account mail dell'Università di Tor Vergata. Per motivi legati alla presunta facilitazione nell'import, il progetto è stato trasferito in ambiente Eclipse.
\end{flushleft}

\newpage

\section{Introduzione}
		La relazione qui presentata fornisce la documentazione del progetto relativo al corso di Basi di Dati nonchè delle digressioni sulle soluzioni adottate nella stesura della soluzione proposta. È stata aggiunta inoltre una presentazione utile per una eventuale esposizione orale del progetto stesso.\newline
				
		Una \textit{base di dati} è una collezione di dati, tipicamente di dimensioni elevate, che descrive l'attivit\'{a} di un'organizzazione. Le dimensioni di questa collezione di dati sono di gran lunga maggiori di quelle relative alla memoria primaria, il che rende necessario l'utilizzo dei livelli inferiori della gerarchia di memoria sia per memorizzare ciò che non possiamo salvare in RAM, sia per salvare i dati una volta spenta la macchina. Infatti questa mole di informazione deve essere salvata su supporti di memoria di massa poichè la memoria primaria non mantiene i dati in essa contenuti una volta che l'alimentazione sia interrotta. Partendo quindi dal presupposto che la memoria secondaria è indispensabile nel campo delle basi di dati, dobbiamo considerare anche la problematica legata ai tempi di accesso, decisamente più alti rispetto ai livelli superiori della gerarchia di memoria. Un \textit{DBMS} è quel software che si occupa della gestione di una tale collezione di dati, ovvero proprio colui che mette a disposizione tutte quelle funzionalità indispensabili per l'utilizzo efficace di questa mole di informazioni.
		A questo proposito, i DBMS mettono a disposizione una collezione di moduli che lavorano per ammortizzare i tempi di accesso a memoria secondaria, come ad esempio il \textit{Gestore del buffer} o il \textit{Gestore delle query}.\newline
		
		\begin{wrapfigure}[20]{r}{9cm}
			\begin{flushright}
				\begin{tikzpicture}[node distance = 3cm, auto]
				\tikzstyle{decision} = [diamond, draw, fill=blue!20, 
				text width=4.5em, node distance=3cm, inner sep=0pt]
				\tikzstyle{block} = [rectangle, draw, fill=blue!20, 
				text width=20em, text centered, rounded corners, minimum height=4em]
				\tikzstyle{line} = [draw, -latex']
				% Place nodes
				\node [block] (init) {Progettazione concettuale};
				\node [block, below of=init] (identify) {Progettazione logica};
				\node [block, below of=identify] (evaluate) {Progettazione fisica};
				% Draw edges
				\path [line] (init) -- (identify);
				\path [line] (identify) -- (evaluate);
				\end{tikzpicture}
				\caption{Primo approccio di sviluppo}
			\end{flushright}
		\end{wrapfigure}
		
		Come spesso accade in ambito ingegneristico, anche la progettazione di una base di dati viene realizzata mediante l'adozione del modello \textit{"a strati"}. \newline
		La progettazione di una base di dati fa molto spesso parte dello sviluppo di un sistema software più complesso. Essendo tuttavia una parte importante nella realizzazione del progetto, nonchè dotata anch'essa di un certo grado di complessità viene spesso trattata come una componente disgiunta.\newline		
		Come si evince dalla figura, cominceremo a progettare la base di dati ad alto livello mediante la fase di progettazione concettuale, durante la quale verrà redatto lo schema ER, un modello che ci permette di descrivere il sistema in termini di oggetti e delle relazioni che intercorrono fra gli stessi. Questa rappresentazione della base di dati è utile in quanto si possono  esprimere le relazioni fra gli oggetti nella base di dati senza dover badare al modello logico adottato né tanto meno al modello fisico dal momento che i DBMS sono indipendenti dal modello concettuale. Presentando il sistema indipendentemente da tutti i dettagli implementativi sottostanti, la progettazione concettuale si pone come mezzo di presentazione efficace e ristretta del sistema da realizzare, fatto che ne semplifica la modifica ad alto livello. \newline	
		
		La possibilit\'{a} di progettare la base di dati a strati viene offerta da una delle caratteristiche fondamentali dei DBMS, ovvero il fatto che realizzino l'\textit{indipendenza dei dati}. Infatti, a meno di correzioni di piccola entità, \'{e} possibile scegliere il modello dei dati che pi\'{u} ci risulta consono ad ogni livello di progettazione, fatto che sulla carta rende questo processo molto flessibile. Tuttavia, con il maturare dell'esperienza in questo ambito, si sono consolidate alcune pratiche che sono risultate vincenti nel corso degli anni. Un esempio fra tutti \'{e} l'adozione in fase di progettazione concettuale del modello \textit{Entity-Relationship}.\newline
		
		Mentre al giorno d'oggi la progettazione muove da un livello di astrazione più alto verso il più basso, la scoperta dei vari modelli dei dati si è mossa nel verso contrario nel corso degli anni. Infatti nonostante si ponga ad un livello di astrazione superiore a quello della progettazione logica, il modello concettuale \textit{Entity-Relationship} è stato sviluppato successivamente a quello relazionale, di livello logico per l'appunto.\newline
		
		\begin{figure}
			\startchronology[startyear=1960, stopyear=1980, width=19cm]
				\chronoperiode[]{1960}{1969}{CODASYL e IMS}
				\chronoperiode{1970}{1972}{Codd e il modello relazionale}
				\chronoevent[textwidth=2cm]{1976}{Chen e il modello concettuale}
				\chronoevent[textwidth=2cm]{1979}{Prima versione commerciale di SQL}
			\stopchronology
			\caption{Cronologia delle maggiori scoperte nel campo delle basi di dati}
		\end{figure}	

		
			
		\begin{flushleft}
			Altro approccio che è risultato vincente nel corso del tempo è quello dei processi di sviluppo di tipo iterativo che, a differenza dei genitori "a cascata", permettono di tornare ciclicamente all'inizio del processo di sviluppo per correggere il tiro a partire dalla fase di analisi dei requisiti in poi. Nel caso dello sviluppo di questo progetto non ci si avvale completamente delle tecniche dell'ingegneria del software, tuttavia per quanto possibile si adotterà il modello di sviluppo iterativo.\newline
			
			
			\begin{wrapfigure}[20]{l}{10cm}
				\begin{tikzpicture}[node distance = 3cm, auto]
				\tikzstyle{decision} = [diamond, draw, fill=blue!20, 
				text width=4.5em, node distance=3cm, inner sep=0pt]
				\tikzstyle{block} = [rectangle, draw, fill=blue!20, 
				text width=20em, text centered, rounded corners, minimum height=4em]
				\tikzstyle{line} = [draw, -latex']
				% Place nodes
				\node [block] (init) {Progettazione concettuale};
				\node [block, below of=init] (identify) {Progettazione logica};
				\node [block, below of=identify] (evaluate) {Progettazione fisica};
				% Draw edges
				\path [line] (init) -- (identify);
				\path [line] (identify) -- (evaluate);
				
				\draw[->>] (evaluate) to [bend left=45] (identify);
				\draw[->>] (identify) to [bend left=45] (init);
				\end{tikzpicture}
				\caption{Approccio iterativo}
			\end{wrapfigure}
			Lo schema di sviluppo deve dunque essere aggiornato a quello riportato di seguito.
		\end{flushleft}	
\clearpage

\section{Progettazione concettuale}

	\begin{flushleft}
		Una delle fasi pi\'{u} importanti nella realizzazione di un progetto, che sia prettamente software o riguardante una base di dati, \'{e} costituita dalla \textit{raccolta e analisi dei requisiti}. Ricordiamo che un \textit{requisito} rappresenta un vincolo da rispettare sia nella fase del suo sviluppo sia nella fase di funzionamento del software. Come suggerisce \cite{Arlow}, la prima causa del fallimento del progetto di un sistema software \'{e} l'insuccesso dell'ingegneria dei requisiti. In questo caso non ci si soffermerà con lo stesso dettaglio del processo UP su questa fase dello sviluppo software ma, essendo indubbiamente fondamentale, le verrà dedicato lo spazio che merita.
		\newline\newline
		La \textit{raccolta dei requisiti} nel caso di questo progetto è stata simulata dal documento di presentazione inviato dal Professor Galli in qualità di committente del lavoro. Il documento è scritto in linguaggio naturale, come accadrebbe nel caso di una stesura delle  specifiche del sistema da realizzare a seguito di un incontro con il committente o con i futuri utenti dell'applicazione.
		Un aspetto importante della progettazione concettuale è l'elaborazione preliminare di tutti quei documenti utili sia agli sviluppatori del progetto che entrano in contatto con il mondo che vanno a modellare sia al committente per essere sicuro che la realizzazione del progetto sia in linea con le sue aspettative. 
		\newline\newline
		Generalmente quando si va a sviluppare un sistema software si entra a far parte di un mondo che non si conosce a fondo in quanto estraneo al proprio. Anche in questa occasione si è acquisita maggiore dimestichezza con gli argomenti relativi al mondo che si è modellato, attingendo a fonti esterne come \textsf{\href{http://www.astronomia.com}{astronomia.com}}. Il \textit{glossario dei termini} raccoglie tutta quella terminologia, presente nella documentazione di presentazione del progetto che simula la \textit{raccolta dei requisiti}, di cui non si era a conoscenza al momento della sua stesura.\newline\newline		
		Il documento è stato ristrutturato suddividendo le frasi presenti al suo interno secondo il concetto cui si legano, rimodellando talvolta la frase laddove non fosse più necessario collegarla al resto del documento.
	\end{flushleft}
	
	\subsection{Specifica fornita}
	\begin{flushleft}
		\textbf{Introduzione al progetto}\newline
		
		L’Istituto Nazionale di Astrofisica insieme all’Università di Tor Vergata vogliono costruire una applicazione che permetta di importare in un database i dati raccolti sulle galassie da diversi satelliti (tra cui Herschel/PACS e Spitzer) al fine di poterli interrogare e gestire in modo più efficiente.\newline
		
		In particolare si sono voluti mettere assieme gli ultimi dati che sono stati catturati dal satellite Herschel/PACS che ha misurato il flusso degli spettri del lontano infrarosso, con quelli provenienti da altri satelliti precedenti come ad esempio il satellite Spitzer che venne utilizzato per misurare i flussi del vicino infrarosso.\newline
		
		I dati raccolti, una volta elaborati, sono utilizzati dagli scienzati per misurare le condizioni fisiche del gas all’interno delle galassie (es. temperatura, densità, metallicità, etc..).\newline
		
		In generale ogni galassia ha un proprio nome, una  determinata posizione geografica spaziale e una distanza e/o redshift. Le galassie possono essere suddivise in sottogruppi a seconda della loro classificazione spettrale. Ogni galassia può avere un valore di luminosità espressa in Watt, misurata relativamente ad uno specifico atomo ionizzato e di metallicità relativa a quella solare. Ad ogni galassia può essere associato il valore del flusso di una riga/linea spettrale. Ogni flusso è associato ad una riga della linea spettrale per un determinato atomo ionizzato ed è composto da una terna contenente il valore del flusso, il suo errore ed una flag che indica se è un upper-limit (ovvero se il valore misurato era minore della sensibilità dello strumento quindi al massimo è pari al minimo della sensibilità dello strumento).\newline
		
		Al momento le informazioni elaborate sono state raccolte in 5 file contenenti i dati in formato CSV. Ogni file è descritto in dettaglio nella sezione successiva.\newline\newline
		
		\textbf{File dei dati}\newline
		
		\textit{File Header}\newline
		
		Ogni file contiene un header testuale che descrive le colonne della tabella in formato CSV contenuta nel file. Inoltre può contenere i riferimenti bibliografici da cui sono stati estratti i dati. I riferimenti bibliografici possono non essere inclusi nel database dell’applicazione.
		\newline
		
		\textit{File 1) Catalogo delle galassie}\newline
		Il file contiene alcune informazioni per individuare una specifica galassia.
		Ogni galassia è solitamente definita dalle sue coordinate angolari (ascensione retta e declinazione), il suo redshift e in ultimo la sua distanza. Per la distanza è definito anche il riferimento bibliografico da cui è stata tratta.\newline
		Ogni galassia è classificata rispetto alle sue proprietà ottiche (emissione spettrale). La classificazione spettrale prevede 6 macro-gruppi (S1, S1h, S2, LIN, Dwarf e H2). Inoltre nel file sono riportati anche i valori di luminosità proveniente dalle misure in X-Ray con il relativo riferimento bibliografico, i valori di metallicità (valore di 1 corrisponde alla metallicità del Sole) ed il relativo riferimento.\newline
		
		\textit{File 2) File dei flussi delle righe di Herschel/PACS}\newline
		Il file contiene le informazioni provenienti dallo studio degli scienziati dell’INAF riguardo alla misura del flusso delle righe spettrali nel satellite Herschel/PACS. Per ogni galassia sono stati calcolati i flussi degli atomi ionizzati ossigeno (OIII, OI), azoto (NIII, NII) e carbonio (CII). Per ogni flusso, se è stato possibile calcolarlo, è riportato il suo valore ed il relativo valore di errore.\newline
		Nel caso il valore calcolato è inferiore alla sensibilità dello strumento, una flag è inserita e il relativo upper-limit è riportato.\newline
		
		\textit{File 3) File del flusso continuo di Herschel/PACS}\newline
		Il file contiene i valori del flusso continuo, ovvero il flusso prodotto in generale dalle polveri interne a una galassia. Le polveri producono un rumore di fondo che nel diagramma flusso/frequenze generano una linea continua piatta. È solitamente utilizzato per misurare la temperatura e la massa della polvere. La struttura è simile alla tabella precedente, per tutte le 7 righe. L’apertura spaziale (numero di pixel utilizzati) è equivalente a quelli della tabella precedente.\newline
		
		\textit{File 4) File dei flussi delle righe di Spitzer}\newline
		Il file è equivalente a quello relativo al flusso delle righe di Herschel/PACS, ma contiene i valori relativi alle righe misurate dal satellite Spitzer, ovvero per gli atomi ionizzati zolfo (SIV, SIII), Neon (NeII, NeV, NeIII) e silicio (SiII).\newline
		
		\textit{File 5) File dei flussi delle righe di Herschel/PACS per tutti i valori di aperture size}
		L’ultimo file contiene gli stessi campi del file 3, ma riporta i valori dei flussi per tutte e tre le differenti aperture size.\newline
	\end{flushleft}

	\begin{flushleft}
		Una volta esaminato a fondo il documento di presentazione, viene effettuato un lavoro di rimodellazione che porta ad uniformare il testo dei requisiti, rendendoli non ambigui dal punto di vista degli sviluppatori ed ancora corrispondenti alle esigenze del committente. Il documento di presentazione viene dunque ristrutturato, suddividendo il testo in gruppi di frasi che trattano lo stesso concetto e riscrivendo secondo il pattern \textit{Per $<$dato$>$ rappresentiamo $<$insieme di proprietà$>$}.\newline
		Il risultato della rimodellazione del documento \'{e} presentato di seguito:
	\end{flushleft}
	
	\begin{framed}
		\begin{flushleft}
			\textbf{Frasi di carattere generale}\newline
			L’Istituto Nazionale di Astrofisica insieme all’Università di Tor Vergata vogliono costruire una applicazione che permetta di importare in un database i dati raccolti sulle galassie da diversi satelliti (tra cui Herschel/PACS e Spitzer) al fine di poterli interrogare e gestire in modo più efficiente.\newline
			
			In particolare si sono voluti mettere assieme gli ultimi dati che sono stati catturati dal satellite Herschel/PACS che ha misurato il flusso degli spettri del lontano infrarosso, con quelli provenienti da altri satelliti precedenti come ad esempio il satellite Spitzer che venne utilizzato per misurare i flussi del vicino infrarosso.\newline
			
			I dati raccolti, una volta elaborati, sono utilizzati dagli scienzati per misurare le condizioni fisiche del gas all’interno delle galassie (es. temperatura, densità, metallicità, etc..).\newline
			
			Ogni file contiene un header testuale che descrive le colonne della tabella in formato CSV contenuta nel file. Inoltre può contenere i riferimenti bibliografici da cui sono stati estratti i dati. I riferimenti bibliografici possono non essere inclusi nel database dell'applicazione.\newline
			
			Ogni flusso è associato ad una riga della linea spettrale per un determinato atomo ionizzato\newline
			
			Ogni galassia è classificata rispetto alle sue proprietà ottiche (emissione spettrale).\newline
			
			Per ogni galassia sono stati calcolati i flussi degli atomi ionizzati ossigeno (OIII, OI), azoto (NIII, NII) e carbonio (CII).\newline
			
			Il flusso continuo è il flusso prodotto delle polveri interne a una galassia, le quali producono un rumore di fondo che nel diagramma flusso/frequenze generano una linea continua piatta.
		\end{flushleft}
	\end{framed}

	\begin{flushleft}
		Nel caso delle galassie, si è riscontrata una ambiguità nel documento, relativamente al fatto che il termine \textit{distanza} non fosse ulteriormente approfondito, ad esempio specificando rispetto quale punto venga calcolata. Per questo si sono cercate ulteriori informazioni lungo il documento, avendone effettivamente riscontrate nel seguito.\newline
		Altra fonte di ambiguità è stata riscontrata nell'attributo luminosità: infatti nel documento di presentazione viene presentato come valore calcolato relativamente ad un atomo ionizzato, ma non c'è traccia nel seguito del testo di tale informazione.
		È da notare il fatto che nel riportare le frasi specifiche per ogni concetto non vengono evidenziati soltanto gli attributi relativi ad una entità ma anche eventuali relazioni.
		
	\end{flushleft}
	
	%Posizione geografica = coordinate angolari
	%classificazione spettrale = emissione spettrale
	\begin{framed}
		\begin{flushleft}
			\textbf{Frasi relative alle galassie}\newline
				Per ogni galassia rappresentiamo il nome, il nome alternativo, le coordinate angolari (ascensione retta e declinazione), il suo redshift, la classificazione spettrale (S1, S1h, S2, LIN, Dwarf e H2), la luminosità \textit{rispetto a un atomo ionizzato}, la metallicità relativa al Sole e la distanza.
		\end{flushleft}
	\end{framed}
	
	\begin{flushleft}
		Il flusso è uno di quei concetti che più di altri esemplificano lo sforzo che deve essere messo in atto dagli sviluppatori per entrare in contatto con il mondo che stanno andando a modellare. Infatti lungo il documento troviamo una quantità di informazioni che, seppur ampia, risulta insufficiente per avere una chiara visione di come i concetti che sono spesso ignoti allo sviluppatore si leghino al resto del sistema. Il primo passo da fare è dunque raccogliere le informazioni presenti nel documento e trovare una linea comune e, se questo non fosse possibile, sorge l'esigenza di intervistare nuovamente il committente.
	\end{flushleft}
	
	\begin{framed}
		\begin{flushleft}
			\textbf{Frasi relative ai flussi}\newline
			Per ogni flusso rappresentiamo il valore del flusso, il suo errore ed un upper-limit.
			Il flusso continuo è rappresentato analogamente a quello delle righe (precedente)
			I flussi delle righe Herschel/PACS e Spitzer differiscono per gli atomi rispetto ai quali sono misurati.
			\newline
		\end{flushleft}
	\end{framed}
	
	\begin{framed}
		\begin{flushleft}
			\textbf{Frasi relative ai riferimenti bibliografici}\newline
			Per i riferimenti bibliografici rappresentiamo i riferimenti bibliografici per la distanza, metallicità e luminosità di una galassia.
		\end{flushleft}
	\end{framed}
	
	\subsection{Operazioni sui dati}
		\begin{flushleft}
			\textbf{Operazione 1:} Trova un utente registrato e controlla che la password inserita corrisponda a quella salvata nel database\newline\newline
			\textbf{Operazione 2:} Inserisci di un utente all'interno del sistema\newline\newline
			\textbf{Operazione 3:} Importa un nuovo file dei dati scientifici, aggiornando i valori precedenti con quelli nuovi\newline\newline
			\textbf{Operazione 4:} Ricerca di una galassia per nome\newline\newline
			\textbf{Operazione 5:} Ricerca di un insieme di galassie all'interno di un raggio data la posizione spaziale\newline\newline
			\textbf{Operazione 6:} Ricerca di un insieme di galassie in base al parametro di redshift\newline\newline
			\textbf{Operazione 7:} Ricerca di valori dei flussi ed il relativo errore di una o più righe spettrali di una specifica galassia\newline\newline
			\textbf{Operazione 8:} Ricerca di tutti i valori di flussi appartenenti ad un fissato gruppo spettrale
		\end{flushleft}
	
	\subsection{Regole di vincolo}
		Di seguito vengono presentate le regole di vincolo che sono state desunte dal modello ER, alcune frutto di fantasia.
		
		\begin{flushleft}
			\textbf{RV1} Lo user-id \textit{deve} avere un numero minimo di caratteri pari a 6\newline
			\textbf{RV2} La password di un utente amministratore \textit{deve} avere un numero minimo di caratteri pari a 9 e \textit{deve} contenere almeno un numero\newline
			%lower-limit
			\textbf{RV3} L'upper-limit viene settato se il valore misurato era minore della sensibilità dello strumento, quindi al massimo è pari al minimo della sensibilità dello strumento\newline
			\textbf{RV4} Il file contenente dati sulle galassie dovrà essere salvato con il nome \textit{MRTable3\_Sample.csv}\newline
			\textbf{RV5} Il file contenente dati sui flussi delle righe dovrà essere salvato con il nome \textit{MRTable4\_flux.csv}\newline
			\textbf{RV6} Il file contenente dati sui flussi continui dovrà essere salvato con il nome \textit{MRTable6\_cont.csv}\newline
			\textbf{RV7} Il file contenente dati sui flussi delle righe calcolati dal satellite Spitzer dovrà essere salvato con il nome \textit{MRTable8\_irs.csv}\newline
			\textbf{RV8} Il file contenente dati sui flussi delle righe per tutti i valori di aperture dovrà essere salvato con il nome \textit{MRTable11\_C\_3x3\_5x5\_flux.csv}\newline
			\textbf{RV9} Lo \textit{userid} di un utente del sistema non può coincidere con la \textit{password}\newline
			\textbf{RV10} I valori relativi alle coordinate della \textit{declinazione}, gradi, minuti e secondi, dovranno essere minori rispettivamente di 90, 60 e 3600.\newline
			\textbf{RV11} I valori relativi alle coordinate dell'\textit{ascensione retta}, ore, minuti e secondi, dovranno essere rispettivamente minori di 24, 60, e 3600. 
		\end{flushleft}

%	\begin{table}[h]
%		\centering
%		\caption{Glossario dei termini}
%		\begin{tabular}{lllll}
%			\hline
%			\rowcolor[HTML]{66CC99}Termine & Descrizione & Sinonimi & Collegamenti				  \\ \hline
%			
%			\textit{Galassia}			&	Un grande insieme di stelle					&	-	 &\\
%			&												&		 &\\
%			\textit{Linea spettrale}	&	Linea presente nell'esame		&  		 &\\
%			&   spettrometrico			&	- 	 &\\
%			&  					                     		&        &\\
%			\textit{Satellite}			& 	Oggetto orbitante intorno ad un corpo		&		 &\\
%			& 	celeste che ha dimensioni molto maggiori	&		 &\\
%			&												&		 &\\
%			\textit{Redshift} 			& 	Fenomeno secondo il quale la frequenza 		&		 &\\
%			& 	di luce osservata differisce da quella		&		 &\\
%			& 	emessa 										&		 &\\
%			\textit{Flusso spettrale}	&												&		 &\\	
%		\end{tabular}
%	\end{table}
		
\newpage


	\subsection{Schemi ER}
		\begin{flushleft}
			La stesura degli schemi ER può essere sia realizzata su carta, sia servendoci di strumenti software dedicati. I programmi appartenti a questa categoria vengono definiti \textit{CASE software}, dove CASE sta per Computer-Aided Software Engineering. Come da aspettative, la scelta \'{e} molto ampia, sia tra i software commerciali sia tra quelli free. Dal momento che la complessità del progetto è di gran lunga inferiore a quella di una commissione reale, è parsa la scelta migliore quella di scegliere un software commerciale, ma che allo stesso tempo si comportasse come un freeware a patto di utilizzare un sottoinsieme delle funzionalità offerte.\newline
			
			Il software in questione è \textit{ERWin} Community Edition, reperibile presso l'indirizzo \url{http://erwin.com/products/data-modeler/community-edition}.\newline
			
			Nonostante la velocità di stesura offerta dal programma CASE, si è preferito stilare lo schema di progettazione concettuale su carta in prima battuta e, solo in secondo tempo, riportato nel file della relazione stessa, in modo da avere anche una copia di backup disponibile.
		\end{flushleft}

		\begin{table}[h!]
			\caption{Dizionario dei dati}
			\begin{tabular}{lllll}
				\hline
				\rowcolor[HTML]{66CC99}Termine	&Descrizione					&Attributi		 			& Identificatore				  \\ \hline
				
				\textit{Galassia}				&Un grande insieme di stelle	&Classificazione spettrale, & NomeGalassia						\\
				&								&Redshift, \\
				&								&NomeAlternativo			&\\
				&								&NomeGalassia				&\\
				&								&					 		&\\
				\textit{Coordinate}				& Dati utili alla localizzazione& AscensioneRetta\_ore,		& NomeGalassia \\
				\textit{angolari} 				& della galassia				& ascensioneretta\_min,		& \textit{(esterno)} \\
				&								& ascensioneretta\_sec, 	&			\\
				&								& declinazione\_sign, 		&				\\
				&								& declinazione\_ore,		&				\\
				&								& declinazione\_min, 		&				\\
				&								& declinazione\_sec 		&				\\
				&								&							&				\\
				\textit{Misura} 				& Un dato attinente alla	& Valore, 				& NomeGalassia \\
												& galassia, sia relativo 	  & Errore, 				& \textit{(esterno)}\\
												&ai flussi, sia a caratte-	  & Riferimento				&				\\
												&ristiche fisiche della stessa						 &							&					  \\
				&								&							&				\\
				\textit{Caratteristiche}		& Una quantità misurata 	&	Tipologia			& NomeGalassia	\\
				\textit{fisiche}				& attinente ad una galassia				&							& \textit{esterno} \\
												&								&							&				\\
				\textit{Flusso}					& Flusso associato ad una		&	Tipologia,				& (NomeGalassia \\
												& galassia						&	Atomo					& \textit{esterno},\\
												&								&							& Tipologia, Atomo)\\
												&								&							&					\\
				\textit{Misura Flusso}			& Insieme di informazioni		&	Apertura,				& (NomeGalassia,	\\
												& attinenti alla misura di		&	Upperlimit,				&  Tipologia,	\\		
												& flussi						&	Riferimento160$\mu$m,	&	Atomo) \textit{esterno}	\\
												&								&	IRSMode					&							  \\
												&								&							&					\\
			\end{tabular}
		\end{table}
	
		\begin{flushleft}
			A margine viene aggiunto che un sinonimo per \textit{Galassia} è \textit{oggetto}, utilizzato all'interno della definizione dei requisiti funzionali.
			
			Di seguito viene riportato la prima stesura dello schema ER relativo al progetto. Come sottolineato in precedenza, il processo di sviluppo adottato è iterativo e quindi, ogni volta che si presenterà una miglioria possibile o ci si accorgerà di un errore si potrà tornare indietro e correggere.\newline
			Un esempio di correzione che è stata apportata allo schema ER è l'elliminazione delle generalizzazioni relative all'entità \textit{Flusso} poichè nelle operazioni richieste dai requisiti non figura una distinzione tra le tipologie di flusso.
		\end{flushleft}

	\begin{figure}[h]
		\resizebox{16cm}{!}{
			\begin{tikzpicture}[node distance=7em]
			\tikzset{multi attribute/.style={attribute,double distance=1.5pt}}
			\tikzset{derived attribute/.style={attribute,dashed}} 
			\tikzset{total/.style={double distance=1.5pt}}
			\tikzset{every entity/.style={draw=orange, fill=orange!20}} 
			\tikzset{every attribute/.style={draw=MediumPurple1, fill=MediumPurple1!20}} 
			\tikzset{every relationship/.style={draw=Chartreuse2, fill=Chartreuse2!20}}
			
			% for double arrows a la chef
			% adapt line thickness and line width, if needed
			\tikzstyle{vecArrow} = [thick, decoration={markings,mark=at position
				1 with {\arrow[semithick]{open triangle 60}}}, distance=1.4pt, shorten >= 5.5pt,
			preaction = {decorate},
			postaction = {draw,line width=1.4pt, white,shorten >= 4.5pt}]
			\tikzstyle{innerWhite} = [semithick, white,line width=1.4pt, shorten >= 4.5pt]
			
			\node[entity] (Galassia) {Galassia};
				\node[attribute, above=20mm] (nomeAlternativo) [above right of=Galassia] {NomeAlter} edge (Galassia); 
				\node[attribute, above=30mm] (redshift) [left of=Galassia] {Redshift} edge (Galassia);
				\node[attribute, right=15mm] (nomeGalassia) [above left of=Galassia] {\key{Nome}} edge (Galassia);
				\node[attribute, right=40mm] (CS) [above of = Galassia] {ClasseSpettrale} edge (Galassia);
				
			\node[relationship, right=50mm] (posizioneAngolare) [right of=Galassia] {posizioneAngolare}; 
			\path (posizioneAngolare.west) edge node[above, at start, anchor=south west, xshift=-40mm] {\textcolor{black}{(1,1)}} (Galassia);
			
			\node[entity, right=50mm] (CoordinateAngolari) [right of = posizioneAngolare] {CoordinateAngolari};
			\path (CoordinateAngolari.west) edge node[above, at start, anchor=south west, xshift=-15mm] {\textcolor{black}{(1,1)}} (posizioneAngolare);
				\node[multi attribute, right=20mm] (declinazione) [right of=CoordinateAngolari] {Declinazione} edge[color=red] (CoordinateAngolari);
				\node[attribute](DecSig) [below of=declinazione] {DecSig} edge (declinazione);
				\node[attribute](DecH) [below right of=declinazione] {Dech} edge (declinazione);
				\node[attribute, right=10mm](DecM) [right of=declinazione] {Decm} edge (declinazione);
				\node[attribute](DecS) [above right of=declinazione] {Decs} edge (declinazione);
				\node[multi attribute] (ascensioneRetta) [above of=CoordinateAngolari] {AscensioneRetta} edge[color=red] (CoordinateAngolari);
					\node[attribute](ARh) [above left of = ascensioneRetta] {ARh} edge (ascensioneRetta);
					\node[attribute](ARm) [above of = ascensioneRetta] {ARm}edge (ascensioneRetta);									\node[attribute](ARs) [above right of = ascensioneRetta] {ARs} edge (ascensioneRetta);
			
			\node[relationship, below left=30mm and 100mm] (relazioneFlusso) [below right of=Galassia, label={[right](1,n)}] {FlussoGalassia}; \draw (relazioneFlusso) |- (Galassia);
			
			\node[entity, below=150mm] (Flusso) [below of = relazioneFlusso] {Flusso}  edge[label={[above right, yshift=10mm](1,1)}] (relazioneFlusso);
				\node[attribute, left=10mm] (atomo) [above left of=Flusso] {Atomo} edge (Flusso);
				\node[attribute, right=15mm] (tipologiaFlusso) [above right of = Flusso] {Tipologia} edge (Flusso);				
				
			\node[relationship, right=80mm] (misuraFlusso) [right of=Flusso, label={[left, xshift=-75mm, yshift=-25mm](1,1)}] {istanzaFlusso} edge (Flusso);
			
			%errore valore
			\node[entity, right=100mm] (Misura) [right of = misuraFlusso] {Misura};
					\node[attribute, right=20mm] (valore) [right of=
					Misura] {Valore} edge (Misura); 
					\node[attribute, right=10mm] (erroreValore) [above right of=Misura] {Errore} edge (Misura);
					\node[attribute] (riferimento) [below right of=Misura] {Riferimento} edge (Misura);
			
			\node[entity, below left=50mm and 10mm] (MisuraFlusso) [below left of = Misura, label={[left, xshift=-20mm, yshift=-3mm](1,1)}] {MisuraFlusso};
					\draw (MisuraFlusso) -| (misuraFlusso);
					\draw[vecArrow] (MisuraFlusso) -| (Misura);
					\node[attribute, left=15mm](upperLimit) [above left of = MisuraFlusso] {UpperLimit} edge (MisuraFlusso);
					\node[attribute, left=20mm] (ref160) [below left of=MisuraFlusso] {Riferimento160um} edge (MisuraFlusso);
					\node[attribute] (aperturaContinuo) [above of=MisuraFlusso] {Apertura} edge (MisuraFlusso);
					\node[attribute] (IRS) [below of=MisuraFlusso] {IRSMode} edge (MisuraFlusso);
			\node[entity, below right = 100mm and 20mm] (CaratteristicheFisiche) [below right of = Misura, label={[left, xshift=-50mm, yshift=-3mm](1,1)}] {CatteristicheFisiche};
			%Non tutte le galassie hanno tutte le caratteristiche fisiche registrate
					\draw[vecArrow] (CaratteristicheFisiche) -| (Misura);
					\node[attribute] (tipo) [below of = CaratteristicheFisiche] {Tipologia} edge (CaratteristicheFisiche); 
					
			\node[relationship, left=50mm] (carafisi) [left of=relazioneFlusso, label={[right](0,1)}] {misureFisiche};
					\draw (carafisi) |- (CaratteristicheFisiche);
					\draw[transform canvas={yshift=3mm}]  (carafisi) |- (Galassia);
					
			%%%%%Chiavi composte%%%%
			\draw (-12, -21.7) -- (-2, -21.7);
			\filldraw[fill=black] (-2, -21.7) circle (2mm);
			
			\draw (13, -36.5) -- (21, -36.5);
			\draw (13, -36.5) -- (13, -34.5);
			\filldraw[fill=black] (13,-34.5) circle (2mm);
			
			\draw (11.5, -30.5) -- (9, -30.5);
			\draw (9, -29.5) -- (9, -30.5);
			\filldraw[fill=black] (9, -29.5) circle (2mm);
			%%%%%%%%%%%%%%%%%%%%%%
			
			\end{tikzpicture}
		}
	\caption{Prima stesura dello schema E-R}
	\end{figure}
	
	\begin{flushleft}
		Nello schema E-R non figurano le entità \textit{Utente Registrato} nè \textit{Amministratore}. Questo deriva dal fatto che anche gli utenti dell'applicazione vengono gestiti tramite il sistema ma, ciononostante, non hanno relazioni con le altre entità. Saranno certamente collegate in qualità di classi al resto del sistema tramite opportuni metodi, ma come entità rimangono distaccate dal resto dello schema.
		
		%Per eventuale seconda stesura togliere attributi luminosità, non sono richiesti dalla app. Sia in CatteristicheGalassia che in Flusso l'identificatore è composto
	\end{flushleft}
	
		\clearpage

\section{Progettazione logica}

\subsection{Definizione del carico di lavoro}

	\subsubsection{Tavola dei volumi}
		\begin{flushleft}
				La \textit{tavola dei volumi} riporta il carico previsto a regime per ogni entità e per ogni relazione presenti nello schema ER. Nella \textit{tavola delle operazioni} invece viene riportata per ogni operazione la frequenza di invocazione a regime, unitamente ad un simbolo che la caratterizza come interattiva o come batch, nel seguito indicate come di consueto con \textit{I} e \textit{B}. In questo caso tuttavia non vi sono operazioni che il sistema possa compiere in modalità \textit{batch} poichè ognuna ha bisogno di essere portata a termine nel minor tempo possibile a partire dalla sua sottoposizione al sistema.\newline
				I volumi relativi alle entità e alle relazioni sono stati ricavati dall'esame dei file allegati alla traccia del progetto e, dal momento che tra i requisiti funzionali non vi è alcuna operazione di inserimento, i volumi a regime delle entità in relazione con Galassia  sono tutti relativi al numero di galassie presenti nel relativo file (241, come riportato di seguito).\newline
				mentre la tavola delle operazioni è stata stesa attingendo alla personale fantasia.
		\end{flushleft}
		\begin{table}[ht]
				\begin{minipage}{0.5\textwidth}
					\centering
					\begin{tabular}{lll}
						\hline
						\rowcolor[HTML]{66CC99}Concetto & Tipo & Volume \\ \hline
						%\textit{Satellite} 					& E & 3   \\
						\textit{Galassia}					& E & 250 \\
						\textit{CoordinateAngolari} 		& E & 250 \\
						\textit{Flusso}						& E & $\sum flussi$ \\
						\textit{MisuraFlusso}				& E & $\sum flussi$ \\
						\textit{CaratteristicheFisiche}		& E & 250 \\
						\textit{PosizioneAngolare}			& R & 250 \\
						\textit{misureFisiche}				& R & 250 \\
						\textit{FlussoGalassia}				& R & $\sum flussi$\\
						\textit{istanzaFlusso} 				& R & $\sum flussi$ 
					\end{tabular}
					\caption{Tavola dei volumi}
				\end{minipage}
				\hfillx
				\begin{minipage}{0.5\textwidth}
					\centering
					\begin{tabular}{lll}
						\hline
						\rowcolor[HTML]{66CC99}Concetto & Tipo & Volume \\ \hline
						\textit{Operazione 1} & I & 1000 al giorno 	\\
						\textit{Operazione 2} & I & 10 al giorno	\\
						\textit{Operazione 3} & I & 5 al giorno		\\
						\textit{Operazione 4} & I & 2000 al giorno	\\
						\textit{Operazione 5} & I & 500 al giorno 	\\
						\textit{Operazione 6} & I & 500 al giorno 	\\
						\textit{Operazione 7} & I &	2000 al giorno	
					\end{tabular}
					\caption{Tavola delle operazioni}
				\end{minipage}
		\end{table}
	
	\subsection{Ristrutturazione dello schema ER}
	
	\subsubsection{Analisi delle ridondanze}
		\begin{flushleft}
			In questa fase bisogna trovare tutte le relazioni e gli attributi che possono essere ricavati a partire da altre relazioni o entità. Le ridondanze vanno mantenute solo nel caso in cui effettivamente apportano un vantaggio prestazionale al sistema.		
			Nel caso dello schema E-R del sistema non vi sono ridondanze, il che ci permette di passare alla fase successiva.
		\end{flushleft}
	\subsubsection{Eliminazione delle generalizzazioni}
		\begin{flushleft}
			Questa fase è necessaria in quanto i DBMS tradizionali non offrono la possibilità di rappresentare direttamente una generalizzazione. Bisogna dunque sostituire la gerarchia con uno schema che dia le stesse informazioni del precedente.
			Le alternative che si sono presentate sono due:
			\begin{itemize}
				\item Incorporare gli attributi di \textit{Misura} nelle entità figlie
				\item Sostituire la specializzazione di \textit{Misura} con due relazioni
			\end{itemize}
			Dal momento che la prima alternativa presenta un minor numero di accessi nelle operazioni relative ai flussi, è stata preferita quest'ultima.
			In seconda battuta dobbiamo tradurre i multiattributi poichè nemmeno questi vengono trattati dai DBMS tradizionali. Nel caso in esame sono state create due nuove entità, \textit{Ascensione Retta} e \textit{Declinazione}, identificate esternamente dall'entitità \textit{Galassia}.
		\end{flushleft}

		\begin{figure}[h]
			\resizebox{16cm}{!}{
				\begin{tikzpicture}[node distance=7em]
				\tikzset{multi attribute/.style={attribute,distance=1.5pt}}
				\tikzset{derived attribute/.style={attribute,dashed}} 
				\tikzset{total/.style={double distance=1.5pt}}
				\tikzset{every entity/.style={draw=orange, fill=orange!20}} 
				\tikzset{every attribute/.style={draw=MediumPurple1, fill=MediumPurple1!20}} 
				\tikzset{every relationship/.style={draw=Chartreuse2, fill=Chartreuse2!20}}
				
				% for double arrows a la chef
				% adapt line thickness and line width, if needed
				\tikzstyle{vecArrow} = [thick, decoration={markings,mark=at position
					1 with {\arrow[semithick]{open triangle 60}}}, distance=1.4pt, shorten >= 5.5pt,
				preaction = {decorate},
				postaction = {draw,line width=1.4pt, white,shorten >= 4.5pt}]
				\tikzstyle{innerWhite} = [semithick, white,line width=1.4pt, shorten >= 4.5pt]
				
				\node[entity] (Galassia) {Galassia};
				\node[attribute, above=20mm] (nomeAlternativo) [above right of=Galassia] {NomeAlter} edge (Galassia); 
				\node[attribute, above=30mm] (redshift) [left of=Galassia] {Redshift} edge (Galassia);
				\node[attribute, right=15mm] (nomeGalassia) [above left of=Galassia] {\key{Nome}} edge (Galassia);
				\node[attribute, right=40mm] (CS) [above of = Galassia] {ClasseSpettrale} edge (Galassia);
				
				\node[relationship, below right=20mm and 100mm](CoordDec) [below right of = Galassia] {CoordDec};
				\draw (CoordDec) |- (Galassia);
				
				\node[entity, below=30mm] (declinazione) [below of=CoordDec] {Declinazione} edge (CoordDec);
				\node[attribute, left=20mm](DecSig) [below of=declinazione] {DecSig} edge (declinazione);
				\node[attribute, left=20mm](DecH) [below left of=declinazione] {Dech} edge (declinazione);
				\node[attribute, left=20mm](DecM) [left of=declinazione] {Decm} edge (declinazione);
				\node[attribute, left=20mm](DecS) [above left of=declinazione] {Decs} edge (declinazione);
				
				\node[relationship, right=120mm](CoordAR) [right of = CoordDec] {CoordAR};
				\draw (CoordAR) |- (Galassia);
				
				\node[entity, below=30mm] (ascensioneRetta) [below of=CoordAR] {AscensioneRetta} edge[label={[above, xshift=-5mm, yshift=10mm](1,1)}] (CoordAR);
				\node[attribute](ARh) [below left of = ascensioneRetta] {ARh} edge (ascensioneRetta);
				\node[attribute](ARm) [below of = ascensioneRetta] {ARm} edge (ascensioneRetta);
				\node[attribute](ARs) [below right of = ascensioneRetta] {ARs} edge (ascensioneRetta);
				
				\node[relationship, below left=30mm and 100mm] (relazioneFlusso) [below right of=Galassia, label={[right](1,n)}] {FlussoGalassia}; \draw (relazioneFlusso) |- (Galassia);
				
				\node[entity, below=150mm] (Flusso) [below of = relazioneFlusso] {Flusso}  edge[label={[above right, yshift=10mm](1,1)}] (relazioneFlusso);
				\node[attribute, left=20mm] (atomo) [above left of=Flusso] {Atomo} edge (Flusso);
				\node[attribute, right=20mm] (tipologiaFlusso) [above right of = Flusso] {Tipologia} edge (Flusso);		
				
				\node[relationship, right=80mm] (misuraFlusso) [right of=Flusso, label={[left, xshift=-75mm, yshift=-25mm](1,1)}] {istanzaFlusso} edge (Flusso);
				
				\node[entity, below left=50mm and 10mm] (MisuraFlusso) [below left of = Misura, label={[left, xshift=-20mm, yshift=-3mm](1,1)}] {MisuraFlusso};
				\draw (MisuraFlusso) -| (misuraFlusso);
				\node[attribute, left=15mm](upperLimit) [above left of = MisuraFlusso] {UpperLimit} edge (MisuraFlusso);
				\node[attribute, left=20mm] (ref160) [below left of=MisuraFlusso] {Riferimento160um} edge (MisuraFlusso);
				\node[attribute] (aperturaContinuo) [above of=MisuraFlusso] {Apertura} edge (MisuraFlusso);
				\node[attribute] (IRS) [below of=MisuraFlusso] {IRSMode} edge (MisuraFlusso);
				\node[attribute, right=20mm] (valore) [right of=
				MisuraFlusso] {Valore} edge (MisuraFlusso); 
				\node[attribute, right=10mm] (erroreValore) [above right of=MisuraFlusso] {Errore} edge (MisuraFlusso);
				\node[attribute] (riferimento) [below right of=MisuraFlusso] {Riferimento} edge (MisuraFlusso);	
				
				
				\node[entity, below right = 100mm and 20mm] (CaratteristicheFisiche) [below of = Misura, label={[left, xshift=-50mm, yshift=-3mm](1,1)}] {CatteristicheFisiche};

				\node[attribute] (tipo) [below of = CaratteristicheFisiche] {Tipologia} edge (CaratteristicheFisiche);
				\node[attribute, right=20mm] (valore) [right of=
				CaratteristicheFisiche] {Valore} edge (CaratteristicheFisiche); 
				\node[attribute, right=10mm] (erroreValore) [above right of=CaratteristicheFisiche] {Errore} edge (CaratteristicheFisiche);
				\node[attribute, above right=5mm and 10mm] (riferimento) [below right of=CaratteristicheFisiche] {Riferimento} edge (CaratteristicheFisiche);
				
				\node[relationship, left=50mm] (carafisi) [left of=relazioneFlusso, label={[right](0,1)}] {misureFisiche};
				\draw (carafisi) |- (CaratteristicheFisiche);
				\draw[transform canvas={yshift=3mm}]  (carafisi) |- (Galassia);
				
				%%%%%Chiavi%%%%
				%%FLUSSO%%
				\draw (-11, -21.7) -- (-4, -21.7);
				\filldraw[fill=black] (-11, -21.7) circle (2mm);
				
				%%CARATTERISTICHE FISICHE%%
				\draw (13, -37) -- (18.3, -37);
				\draw (13, -37) -- (13, -35);
				\filldraw[fill=black] (13,-35) circle (2mm);
				
				%%DECLINAZIONE%%
				\draw (11, -8.5) -- (13, -8.5);
				\draw (11, -8.5) -- (11, -9.4);
				\filldraw[fill=black] (13, -8.5) circle (2mm);
				
				%%ASCENSIONE RETTA%%
				\draw (26, -8.5) -- (28, -8.5);
				\draw (28, -8.5) -- (28, -9.4);
				\filldraw[fill=black] (26, -8.5) circle (2mm);
				
				%%MISURA FLUSSO%%%%%
				\draw (11.45, -30.4) -- (8, -30.4);
				\draw (8, -30.4) -- (8, -29.4);
				\filldraw[fill=black] (8, -29.4) circle (2mm);
				%%%%%%%%%%%%%%%%%%%%%
				
				\end{tikzpicture}
			}
			\caption{Schema E-R ristrutturato, eliminati i multiattributi e generalizzazioni}
		\end{figure}

		\begin{flushleft}
			Una volta eliminati i multiattributi e le generalizzazioni, possiamo passare alla risoluzione degli identificatori esterni:
		\end{flushleft}

		\begin{figure}[h]
			\resizebox{16cm}{!}{
				\begin{tikzpicture}[node distance=7em]
				\tikzset{multi attribute/.style={attribute,distance=1.5pt}}
				\tikzset{derived attribute/.style={attribute,dashed}} 
				\tikzset{total/.style={distance=1.5pt}}
				\tikzset{every entity/.style={draw=orange, fill=orange!20}} 
				\tikzset{every attribute/.style={draw=MediumPurple1, fill=MediumPurple1!20}} 
				\tikzset{every relationship/.style={draw=Chartreuse2, fill=Chartreuse2!20}}
				
				% for double arrows a la chef
				% adapt line thickness and line width, if needed
				\tikzstyle{vecArrow} = [thick, decoration={markings,mark=at position
					1 with {\arrow[semithick]{open triangle 60}}},
				double relativeDistance=1.4pt, shorten >= 5.5pt,
				preaction = {decorate},
				postaction = {draw,line width=1.4pt, white,shorten >= 4.5pt}]
				\tikzstyle{innerWhite} = [semithick, white,line width=1.4pt, shorten >= 4.5pt]
				
				\node[entity] (Galassia) {Galassia};
				\node[attribute, above=20mm] (nomeAlternativo) [above right of=Galassia] {NomeAlter} edge (Galassia); 
				\node[attribute, above=30mm] (redshift) [left of=Galassia] {Redshift} edge (Galassia);
				\node[attribute, right=15mm] (nomeGalassia) [above left of=Galassia] {\key{Nome}} edge (Galassia);
				\node[attribute, right=40mm] (CS) [above of = Galassia] {ClasseSpettrale} edge (Galassia);
				
				\node[relationship, below right=20mm and 100mm](CoordDec) [below right of = Galassia] {CoordDec};
				\draw (CoordDec) |- (Galassia);
				
				\node[entity, below=30mm] (declinazione) [below of=CoordDec] {Declinazione} edge (CoordDec);
				\node[attribute, left=20mm](DecSig) [below of=declinazione] {DecSig} edge (declinazione);
				\node[attribute, left=20mm](DecH) [below left of=declinazione] {Dech} edge (declinazione);
				\node[attribute, left=20mm](DecM) [left of=declinazione] {Decm} edge (declinazione);
				\node[attribute, left=20mm](DecS) [above left of=declinazione] {Decs} edge (declinazione);
				\node[attribute, right=20mm](NomeGalassiaCA)[right of=declinazione] {\key{NomeGalassia}} edge (declinazione);
				
				\node[relationship, right=120mm](CoordAR) [right of = CoordDec] {CoordAR};
				\draw (CoordAR) |- (Galassia);
				
				\node[entity, below=30mm] (ascensioneRetta) [below of=CoordAR] {AscensioneRetta} edge[label={[above, xshift=-5mm, yshift=10mm](1,1)}] (CoordAR);
				\node[attribute](ARh) [below left of = ascensioneRetta] {ARh} edge (ascensioneRetta);
				\node[attribute](ARm) [below of = ascensioneRetta] {ARm} edge (ascensioneRetta);
				\node[attribute](ARs) [below right of = ascensioneRetta] {ARs} edge (ascensioneRetta);
				\node[attribute, right=20mm](NomeGalassiaAR)[right of=ascensioneRetta] {\key{NomeGalassia}} edge (ascensioneRetta);
				
				\node[relationship, below left=30mm and 100mm] (relazioneFlusso) [below right of=Galassia, label={[right](1,n)}] {FlussoGalassia}; \draw (relazioneFlusso) |- (Galassia);
				
				\node[entity, below=150mm] (Flusso) [below of = relazioneFlusso] {Flusso}  edge[label={[above right, yshift=10mm](1,1)}] (relazioneFlusso);
				\node[attribute, left=20mm] (atomo) [above left of=Flusso] {Atomo} edge (Flusso);
				\node[attribute, left=20mm] (tipologiaFlusso) [below left of = Flusso] {Tipologia} edge (Flusso);
				\node[attribute, left=20mm](NomeGalassiaFl) [left of = Flusso] {\key{NomeGalassia}} edge (Flusso);		
				
				\node[relationship, right=80mm] (misuraFlusso) [right of=Flusso, label={[left, xshift=-75mm, yshift=-25mm](1,1)}] {istanzaFlusso} edge (Flusso);
				
				\node[entity, below left=50mm and 10mm] (MisuraFlusso) [below left of = Misura, label={[left, xshift=-20mm, yshift=-3mm](1,1)}] {MisuraFlusso};
				\draw (MisuraFlusso) -| (misuraFlusso);
				\node[attribute, left=15mm](upperLimit) [above left of = MisuraFlusso] {UpperLimit} edge (MisuraFlusso);
				\node[attribute, left=20mm] (ref160) [below left of=MisuraFlusso] {Riferimento160um} edge (MisuraFlusso);
				\node[attribute] (aperturaContinuo) [above of=MisuraFlusso] {Apertura} edge (MisuraFlusso);
				\node[attribute] (IRS) [below of=MisuraFlusso] {IRSMode} edge (MisuraFlusso);
				\node[attribute, above right=12mm and 20mm] (valore) [right of=
				MisuraFlusso] {Valore} edge (MisuraFlusso); 
				\node[attribute, right=10mm] (erroreValore) [above right of=MisuraFlusso] {Errore} edge (MisuraFlusso);
				\node[attribute] (riferimento) [below right of=MisuraFlusso] {Riferimento} edge (MisuraFlusso);
				\node[attribute, below right = 5mm and 50mm](nomeGalassiaMisura) [right of = MisuraFlusso] {NomeGalassia} edge (MisuraFlusso);
				\node[attribute, below right=15mm and 50mm] (atomo) [right of=MisuraFlusso] {Atomo} edge (MisuraFlusso);
				\node[attribute, below right=15mm and 50mm] (tipologiaFlusso) [above right of = MisuraFlusso] {Tipologia} edge (MisuraFlusso);
				
				\node[entity, below right = 100mm and 20mm] (CaratteristicheFisiche) [below of = Misura, label={[left, xshift=-50mm, yshift=-3mm](1,1)}] {CatteristicheFisiche};
				
				\node[attribute] (tipo) [below of = CaratteristicheFisiche] {Tipologia} edge (CaratteristicheFisiche);
					\node[attribute, right=20mm] (valore) [right of=
					CaratteristicheFisiche] {Valore} edge (CaratteristicheFisiche); 
					\node[attribute, right=10mm] (erroreValore) [above right of=CaratteristicheFisiche] {Errore} edge (CaratteristicheFisiche);
					\node[attribute, above right=5mm and 10mm] (riferimento) [below right of=CaratteristicheFisiche] {Riferimento} edge (CaratteristicheFisiche);
					\node[attribute, left=10mm](NomeGalassiaCF) [below left of = CaratteristicheFisiche] {\key{NomeGalassia}} edge (CaratteristicheFisiche);
				
				\node[relationship, left=50mm] (carafisi) [left of=relazioneFlusso, label={[right](0,1)}] {misureFisiche};
				\draw (carafisi) |- (CaratteristicheFisiche);
				\draw[transform canvas={yshift=3mm}]  (carafisi) |- (Galassia);
				
				%%%%%Chiavi%%%%
				%%FLUSSO%%
				\draw (-10, -20.7) -- (-10, -24.7);
				\filldraw[fill=black] (-10, -20.7) circle (2mm);
				
				%%CARATTERISTICHE FISICHE%%
				\draw (13, -37) -- (18.3, -37);
				\filldraw[fill=black] (13,-37) circle (2mm);
				%%%%%%%%%%%%%%%%%%%%%
				
				\draw (16, -31) -- (16, -29.5);
				\filldraw[fill=black] (16, -29.5) circle (2mm);
				\end{tikzpicture}
			}
			\caption{Schema E-R ristrutturato, eliminati gli identificatori esterni}
		\end{figure}

\newpage
		\begin{flushleft}
			Come previsto in un processo di sviluppo iterativo, in seguito alla fase di implementazione si è resa necessaria una modifica nello schema ER. \newline
			Infatti, implementando i requisiti, la modifica degli schemi ER iniziali era obbligatoria per continuare a rispettare le specifiche ed eliminare tutte quelle informazioni mai accedute nel database.
			Viene sintetizzato di seguito quanto è emerso:
			\begin{itemize}
				\item La distanza non è una caratteristica fisica delle galassie utilizzata da alcun requisito. Nel numero 6 la distanza considerata è calcolata fra due punti arbitrari. Di conseguenza può essere omessa dall'ER. 
				\item Le caratteristiche fisiche metallicità e luminosità vengono sempre accedute insieme, di conseguenza risulta utile porle nella stessa entità in modo da migliorare le prestazioni di accesso al dato.
				\item Discorso analogo vale per le entità \textit{Declinazione} ed \textit{Ascensione Retta} che, essendo accedute sempre in coppia, tornano a formare un'entità unica.
				\item Non tutte le galassie hanno dati sulle caratteristiche fisiche, quindi la cardinalità Galassia-misureFisiche è (0,1).
				\item Oltre ad aver accorpato l'entità \textit{Flusso} con le misure associate, è stato anche suddiviso in tante entità quante sono le tipologie. Questa scomposizione, oltre ad evitare la presenza di valori nulli sugli attributi non presenti in tutte le tipologie di flusso, permette un accesso più rapido alle informazioni correlate al tipo di flusso ricercato.
				\item L'attributo di \textit{tipologia} di \textit{Flusso} viene sostituito dalle tre entità \textit{FlussoContinuoHP}, \textit{FlussoRigheHP} e \textit{FlussoRigheSp} (i dati sul flusso continuo sono tutti provenienti dal satellite Herschel/PACS). Questa suddivisione aiuta nell'importazione dei file, evitando che vengano cancellati dati relativi ad altre tabelle.
			\end{itemize}
		\end{flushleft}
	
	\begin{figure}[ht!]
		\resizebox{16cm}{!}{
			\begin{tikzpicture}[node distance=7em]
			\tikzset{multi attribute/.style={attribute,distance=1.5pt}}
			\tikzset{derived attribute/.style={attribute,dashed}} 
			\tikzset{total/.style={distance=1.5pt}}
			\tikzset{every entity/.style={draw=orange, fill=orange!20}} 
			\tikzset{every attribute/.style={draw=MediumPurple1, fill=MediumPurple1!20}} 
			\tikzset{every relationship/.style={draw=Chartreuse2, fill=Chartreuse2!20}}
			
			% for double arrows a la chef
			% adapt line thickness and line width, if needed
			\tikzstyle{vecArrow} = [thick, decoration={markings,mark=at position
				1 with {\arrow[semithick]{open triangle 60}}},
			double relativeDistance=1.4pt, shorten >= 5.5pt,
			preaction = {decorate},
			postaction = {draw,line width=1.4pt, white,shorten >= 4.5pt}]
			\tikzstyle{innerWhite} = [semithick, white,line width=1.4pt, shorten >= 4.5pt]
			
			\node[entity] (Galassia)[label={[right, xshift=15mm, yshift=-3mm](1,1)}] {Galassia};
			\node[attribute, above=20mm] (nomeAlternativo) [above right of=Galassia] {NomeAlter} edge (Galassia); 
			\node[attribute, above=30mm] (redshift) [left of=Galassia] {Redshift} edge (Galassia);
			\node[attribute, right=15mm] (nomeGalassia) [above left of=Galassia] {\key{Nome}} edge (Galassia);
			\node[attribute, right=40mm] (CS) [above of = Galassia] {ClasseSpettrale} edge (Galassia);
			
			\node[relationship, below right=20mm and 140mm](CoordDec) [below right of = Galassia] {CoordDec};
			\draw (CoordDec) |- (Galassia);
			
			\node[entity, below=30mm] (declinazione)[label={[right, xshift=-10mm, yshift=3mm](1,1)}] [below of=CoordDec] {CoordinateAngolari} edge (CoordDec);
			\node[attribute, left=20mm](DecSig) [below of=declinazione] {DecSig} edge (declinazione);
			\node[attribute, left=20mm](DecH) [below left of=declinazione] {Dech} edge (declinazione);
			\node[attribute, left=20mm](DecM) [left of=declinazione] {Decm} edge (declinazione);
			\node[attribute, left=20mm](DecS) [above left of=declinazione] {Decs} edge (declinazione);
			\node[attribute, right=20mm](NomeGalassiaCA)[right of=declinazione] {\key{NomeGalassia}} edge (declinazione);
			\node[attribute](ARh) [above right of = declinazione] {ARh} edge (declinazione);
			\node[attribute](ARm) [below of = declinazione] {ARm} edge (declinazione);
			\node[attribute](ARs) [below right of = declinazione] {ARs} edge (declinazione);
			
			\node[relationship, below left=30mm and 100mm] (relazioneFlussoRigheHP) [below right of=Galassia, label={[right](1,n)}] {righeHP}; 
			\draw (relazioneFlussoRigheHP) |- (Galassia);
			
			\node[entity, below=150mm] (FlussoRigheHP) [below of = relazioneFlusso] {FlussoRigheHP}  edge[label={[above right, yshift=10mm](1,1)}] (relazioneFlussoRigheHP);
			\node[attribute, left=20mm] (atomo) [above left of=Flusso] {Atomo} edge (FlussoRigheHP);
			\node[attribute, left=20mm](NomeGalassiaFl) [left of = Flusso] {\key{NomeGalassia}} edge (FlussoRigheHP);		
			\node[attribute, left=25mm](upperLimitHP) [below of = FlussoRigheHP] {UpperLimit} edge (FlussoRigheHP);
			\node[attribute, below right=20mm and 10mm](valorerigheHP) [below right of = FlussoRigheHP] {Valore} edge (FlussoRigheHP);
			\node[attribute, below = 20mm](apertureHP) [below of = FlussoRigheHP] {Aperture} edge (FlussoRigheHP);
			\node[attribute, right=15mm](erroreHP) [below right of = FlussoRigheHP] {Errore} edge (FlussoRigheHP);
			
			\node[relationship, below =30mm](relazioneFlussoContHP) [below of = Galassia, label={[right](1,n)}] {continuoHP} edge (Galassia);
			
			\node[entity, below=100mm] (FlussoContHP) [below of = relazioneFlussoContHP] {FlussoContHP}  edge[label={[above right, yshift=10mm](1,1)}] (relazioneFlussoContHP);
			\node[attribute, left=20mm] (atomo) [above left of=FlussoContHP] {Atomo} edge (FlussoContHP);
			\node[attribute, left=20mm](NomeGalassiaFl) [left of = FlussoContHP] {\key{NomeGalassia}} edge (FlussoContHP);		
			\node[attribute, left=25mm](upperLimitHP) [below of = FlussoContHP] {UpperLimit} edge (FlussoContHP);
			\node[attribute, below right=20mm and 10mm](valorecontHP) [below right of = FlussoContHP] {Valore} edge (FlussoContHP);
			\node[attribute, below = 20mm](apertureHP) [below of = FlussoContHP] {Aperture} edge (FlussoContHP);
			\node[attribute, right=15mm](erroreHP) [below right of = FlussoContHP] {Errore} edge (FlussoContHP);
			
			\node[relationship, below right=30mm and 50mm](righeSp) [below right of = Galassia] {righeSpitzer};
			\draw (righeSp) |- (Galassia);
			
			\node[entity, below=190mm] (FlussoRigheSp) [below of = righeSp] {FlussoRigheSp}  edge[label={[above right, yshift=10mm](1,1)}] (righeSp);
			\node[attribute, left=20mm] (atomo) [above left of=FlussoRigheSp] {Atomo} edge (FlussoRigheSp);
			\node[attribute, left=20mm](NomeGalassiaFl) [left of = FlussoRigheSp] {\key{NomeGalassia}} edge (FlussoRigheSp);		
			\node[attribute, left=25mm](upperLimitHP) [below of = FlussoRigheSp] {UpperLimit} edge (FlussoRigheSp);
			\node[attribute, below right=20mm and 10mm](valoreRigheSp) [below right of = FlussoRigheSp] {Valore} edge (FlussoRigheSp);
			\node[attribute, below = 20mm](apertureHP) [below of = FlussoRigheSp] {Aperture} edge (FlussoRigheSp);
			\node[attribute, right=15mm](erroreHP) [below right of = FlussoRigheSp] {Errore} edge (FlussoRigheSp);
			\node[attribute, right=15mm](IRSMode) [above right of =FlussoRigheSp] {IRSMode} edge (FlussoRigheSp);
			
			
			\node[entity, below right = 130mm and 20mm] (CaratteristicheFisiche) [below of = Misura, label={[left, xshift=-50mm, yshift=-3mm](1,1)}] {CatteristicheFisiche};
				\node[attribute] (valLum) [below of = CaratteristicheFisiche] {ValoreLuminosità} edge (CaratteristicheFisiche);
				\node[attribute, right=20mm] (valMet) [right of=
				CaratteristicheFisiche] {ValoreMetallicità} edge (CaratteristicheFisiche); 
				\node[attribute, right=10mm] (errMet) [above right of=CaratteristicheFisiche] {ErroreMetallicità} edge (CaratteristicheFisiche);
				\node[attribute, above right=5mm and 10mm] (riferimentoMet) [below right of=CaratteristicheFisiche] {RiferimentoMetallicità} edge (CaratteristicheFisiche);
				\node[attribute, left=10mm](NomeGalassiaCF) [below left of = CaratteristicheFisiche] {\key{NomeGalassia}} edge (CaratteristicheFisiche);
				\node[attribute](rifLum) [above of = CaratteristicheFisiche] {RiferimentoLuminosità} edge (CaratteristicheFisiche);
			
			\node[relationship, left=50mm] (carafisi) [left of=relazioneFlusso, label={[right](0,1)}] {misureFisiche};
			\draw (carafisi) |- (CaratteristicheFisiche);
			\draw[transform canvas={yshift=3mm}]  (carafisi) |- (Galassia);
			
			%%%%%Chiavi%%%%
			%%FLUSSORIGHEHP%%
			\draw (-10, -20.7) -- (-10, -23.7);
			\filldraw[fill=black] (-10, -20.7) circle (2mm);
			
			%%FLUSSOCONTHP%%%
			\draw (-2.5, -16) -- (-2.5, -19.5);
			\filldraw[fill=black] (-2.5, -16) circle (2mm);	
			
			%%FLUSSORIGHESP%%
			\draw (5, -24.5) -- (5, -27.5);
			\filldraw[fill=black] (5, -24.5) circle (2mm);		
			
			\end{tikzpicture}
		}
		\caption{Schema E-R alla luce delle modifiche suggerite dalle fasi successive}
	\end{figure}
\newpage
	\subsection{Analisi delle ridondanze, ripresa}
	\begin{flushleft}
		A titolo di esempio, viene riportata una ulteriore modifica suggerita durante lo sviluppo del codice relativo al progetto, ovvero l'aggiunta degli attributi \textit{GradiDeclinazione} e \textit{GradiAscensione} all'entità \textit{CoordinateAngolari}in modo da rendere più veloce l'\textit{Operazione 5} richiesta dal \textit{Requisito 6}, la ricerca di una galassia all'interno di un raggio.\newline
		Con la tavola dei volumi e delle operazioni alla mano, procediamo all'analisi di questo caso di ridondanza.
	\end{flushleft}
		\subsubsection{Schema dell'operazione}
			\begin{flushleft}
				Estrapoliamo dallo schema ER quel sottoinsieme di entità che vengono effettivamente utilizzate per portare a compimento l'operazione:
			\end{flushleft}
			\begin{figure}[h!]
				\begin{tikzpicture}
				\tikzset{multi attribute/.style={attribute,distance=1.5pt}}
				\tikzset{derived attribute/.style={attribute,dashed}} 
				\tikzset{total/.style={distance=1.5pt}}
				\tikzset{every entity/.style={draw=orange, fill=orange!20}} 
				\tikzset{every attribute/.style={draw=MediumPurple1, fill=MediumPurple1!20}} 
				\tikzset{every relationship/.style={draw=Chartreuse2, fill=Chartreuse2!20}}
				
				% for double arrows a la chef
				% adapt line thickness and line width, if needed
				\tikzstyle{vecArrow} = [thick, decoration={markings,mark=at position
					1 with {\arrow[semithick]{open triangle 60}}},
				double relativeDistance=1.4pt, shorten >= 5.5pt,
				preaction = {decorate},
				postaction = {draw,line width=1.4pt, white,shorten >= 4.5pt}]
				\tikzstyle{innerWhite} = [semithick, white,line width=1.4pt, shorten >= 4.5pt]
				
				\node[entity] (Galassia)[label={[right, xshift=15mm, yshift=-3mm](1,1)}] {Galassia};
					\node[attribute, above=20mm] (nomeAlternativo) [above right of=Galassia] {NomeAlter} edge (Galassia); 
					\node[attribute, above left=10mm and 20mm] (redshift) [above left of=Galassia] {Redshift} edge (Galassia);
					\node[attribute, left=20mm] (nomeGalassia) [left of=Galassia] {\key{Nome}} edge (Galassia);
					\node[attribute, below left=10mm and 10mm] (CS) [below of = Galassia] {ClasseSpettrale} edge (Galassia);
					
				\node[relationship, right=35mm](coordAng) [right of = Galassia] {coordDec} edge (Galassia);
				
				\node[entity, right=40mm] (CoordinateAngolari)[label={[right, xshift=-35mm, yshift=-10mm](1,1)}] [right of=coordAng] {CoordinateAngolari} edge (coordAng);
					\node[attribute, above=20mm](DecSig) [above of=CoordinateAngolari] {DecSig} edge (CoordinateAngolari);
					\node[attribute, below=20mm](DecH) [below left of=CoordinateAngolari] {Dech} edge (CoordinateAngolari);
					\node[attribute, below left=20mm and 20mm](DecM) [left of=CoordinateAngolari] {Decm} edge (CoordinateAngolari);
					\node[attribute, above left=20mm and 20mm](DecS) [above left of=CoordinateAngolari] {Decs} edge (CoordinateAngolari);
					\node[attribute, above right=20mm and 15mm](NomeGalassiaCA)[right of=CoordinateAngolari] {\key{NomeGalassia}} edge (CoordinateAngolari);
					\node[attribute, right=30mm](ARh) [above right of = CoordinateAngolari] {ARh} edge (CoordinateAngolari);
					\node[attribute, right=30mm](ARm) [below of = CoordinateAngolari] {ARm} edge (CoordinateAngolari);
					\node[attribute, below right= 20mm and 20mm](ARs) [below right of = CoordinateAngolari] {ARs} edge (CoordinateAngolari);
					
				\draw[->, ultra thick] (2,2) -- (6,2);
				\end{tikzpicture}
				\caption{Schema dell'operazione 5}
			\end{figure}			

	\begin{table}[h!]
		\caption{Tavola degli accessi per l'operazione 5}
		\begin{tabular}{llll}
			\hline
			\rowcolor[HTML]{66CC99}Concetto	& Costrutto	&Accessi & Tipo\\ \hline
			\textit{Galassia}				& Entità & 1		& L		\\
			\textit{CoordinateAngolari}		& Entità & 1		& L
		\end{tabular}
	\end{table}
	\begin{flushleft}
		Nonostante recuperiamo sette colonne dalla tabella \textit{CoordinateAngolari}, contiamo un solo accesso all'entità poichè una volta recuperata la tupla completa dal database non abbiamo più necessità di accedervi nuovamente. Tuttavia, l'operazione richiede di inserire la tupla fra i risultati soltanto se la distanza calcolata tramite questi attributi rientra nei criteri immessi.\newline
		Assumiamo che per memorizzare gli attributi \textit{GradiDeclinazione} e \textit{GradiAscensione} siano necessari 8 byte ognuno. Disponendo in questo caso di circa 240 galassie, lo spazio aggiuntivo di memoria richiesto ammonterebbe a 1920 byte. Dunque a fronte di un piccolo spazio di memoria aggiuntivo, che peraltro non avrebbe bisogno di essere aggiornato, risparmieremmo le due operazioni necessarie per il calcolo del dato. Anche in presenza di un numero di galassie decisamente più alto, ad esempio dieci volte più alto di quello relativo a questo progetto, avremmo un overhead di memoria decisamente accettabile.\newline
		Aggiorniamo dunque lo schema ER dell'entità \textit{CoordinateAngolari} aggiungendo i due attributi ed aggiorniamo anche la lista delle business rules con le due nuove \textit{regole di derivazione}:
	\end{flushleft}
	\begin{center}
		\begin{figure}[h!]
			\centering
			\begin{tikzpicture}
			\tikzset{multi attribute/.style={attribute,distance=1.5pt}}
			\tikzset{derived attribute/.style={attribute,dashed}} 
			\tikzset{total/.style={distance=1.5pt}}
			\tikzset{every entity/.style={draw=orange, fill=orange!20}} 
			\tikzset{every attribute/.style={draw=MediumPurple1, fill=MediumPurple1!20}} 
			\tikzset{every relationship/.style={draw=Chartreuse2, fill=Chartreuse2!20}}
			
			% for double arrows a la chef
			% adapt line thickness and line width, if needed
			\tikzstyle{vecArrow} = [thick, decoration={markings,mark=at position
				1 with {\arrow[semithick]{open triangle 60}}},
			double relativeDistance=1.4pt, shorten >= 5.5pt,
			preaction = {decorate},
			postaction = {draw,line width=1.4pt, white,shorten >= 4.5pt}]
			\tikzstyle{innerWhite} = [semithick, white,line width=1.4pt, shorten >= 4.5pt]
			
			\node[entity, right=40mm] (CoordinateAngolari){CoordinateAngolari};
			\node[attribute, above=20mm](DecSig) [above of=CoordinateAngolari] {DecSig} edge (CoordinateAngolari);
			\node[attribute, below=20mm](DecH) [below left of=CoordinateAngolari] {Dech} edge (CoordinateAngolari);
			\node[attribute, below left=20mm and 20mm](DecM) [left of=CoordinateAngolari] {Decm} edge (CoordinateAngolari);
			\node[attribute, above left=20mm and 20mm](DecS) [above left of=CoordinateAngolari] {Decs} edge (CoordinateAngolari);
			\node[attribute, above right=20mm and 15mm](NomeGalassiaCA)[right of=CoordinateAngolari] {\key{NomeGalassia}} edge (CoordinateAngolari);
			\node[attribute, right=30mm](ARh) [above right of = CoordinateAngolari] {ARh} edge (CoordinateAngolari);
			\node[attribute, right=30mm](ARm) [below of = CoordinateAngolari] {ARm} edge (CoordinateAngolari);
			\node[attribute, below right= 20mm and 20mm](ARs) [below right of = CoordinateAngolari] {ARs} edge (CoordinateAngolari);
			\node[attribute, above left=10mm and 40mm](GradiDec) [above left of = CoordinateAngolari] {GradiDec} edge (CoordinateAngolari);
			\node[attribute, left=40mm](GradiAR) [left of = CoordinateAngolari] {GradiAR} edge (CoordinateAngolari);
			\end{tikzpicture}
			\caption{Schema dell'operazione 5}
		\end{figure}		
	\end{center}
	\begin{framed}
		\begin{flushleft}
			\textbf{RD1} La conversione della declinazione tra formato (+/-, HH, MM, SS) a gradi si effettua tramite la formula $Dec[gradi] = +or-(gradi + minuti/60 + secondi/3600)$\newline
			\textbf{RD2} La conversione dell'ascensione retta tra formato (HH, MM, SS) si effettua tramite la formula $Asc[gradi] = 15*(ore + minuti/60 + secondi/3600)$\newline
		\end{flushleft}
	\end{framed}

			

		
\subsection{Traduzione dello schema ER}

	\begin{flushleft}
		Si è discusso precedentemente della redazione dello schema ER nell'ambito della progettazione concettuale. Si vuole qui richiamare l'attenzione sul fatto che il modello \textit{Entity-Relationship} costituisca un \textit{modello dei dati}, ovvero un insieme di concetti che vengono utilizzati per modellare una base di dati, al fine di realizzare meccanismi di astrazione, analogamente a quanto accade per le strutture dati nei linguaggi di programmazione.\newline
		Nel caso del modello \textit{Entity-Relationship}, l'universo di interesse viene modellato tramite entità e relazioni fra entità, dando luogo ad uno schema che deve riportare fedelmente la connessione che intercorre fra i dati di interesse per l'applicazione da sviluppare.\newline
		Nel caso della progettazione logica, avremo bisogno di un modello dei dati che abbassi il livello di astrazione e si avvicini a quella che sarà l'effettiva rappresentazione dei dati in memoria. Utilizzeremo l'arcinoto \textit{modello relazionale}, presentato da Edgar Codd nel 1970 e che rispetto ai suoi predecessori gerarchico e reticolare aveva una marcia in più: \textit{è basato su valori}. Questo fatto implica che la connessione fra le tabelle (o meglio relazioni, con ovvia traduzione conflittuale) sia dettata non da puntatori ai nodi o dalla posizione all'interno dell'albero delle tabelle del sistema, piuttosto dai valori contenuti nella tabella stessa. Ammettendo il caso di due tabelle, \textsf{AUTOMOBILISTA} ed \textsf{INFRAZIONI}, munite di opportune colonne, potremo scoprire quante infrazioni siano state comminate ad un dato automobilista semplicemente confrontando i valori contenuti in entrambe le tabelle. Ovviamente la realizzazione di un particolare DBMS può fare ugualmente uso di puntatori, ma costituiranno soltanto il mezzo e non l'oggetto dell'implementazione.\newline\newline
		La traduzione di uno schema ER ristrutturato è una fase della progettazione molto più algoritmica rispetto alla stesura dello schema ER stesso. Infatti vi sono un insieme di traduzioni standard a cui è possibile attenersi e che verranno utilizzate anche in questo contesto.\newline
		Nonostante la natura metodica del procedimento di traduzione, esso si inserisce nel più volte citato processo di sviluppo iterativo, rendendosi perciò oggetto di modifiche nel corso dello sviluppo della applicazione. Nel caso in cui le modifiche nello schema ER siano importanti, anche nello schema logico sarà necessario un aggiornamento consistente con le modifiche apportate. Con i dovuti adattamenti, la stessa argomentazione si può applicare alla fase di implementazione.\newline
		Di seguito viene riportata la traduzione nel modello logico dell'ultimo schema ER stilato, ovvero quello effettivamente oggetto dell'implementazione.\newline\newline
		\begin{framed}
			\textsf{\textit{Galassia}(\underline{Nome}, Redshift, NomeAlternativo, ClasseSpettrale)}\newline\newline
			\textsf{\textit{CoordinateAngolari}(NomeGalassia, DecSig, Dech, Decm, Decs, ARh, ARm, ARs, GradiDeclinazione, GradiAscensione)}\newline
			\textsf{\textbf{FK}: NomeGalassia \textbf{REFERENCES} Galassia}\newline\newline
			\textsf{\textit{FlussoRigheHP}(\underline{Atomo, NomeGalassia}, Upperlimit, Aperture, Valore, Errore)}\newline
			\textsf{\textbf{FK}: NomeGalassia \textbf{REFERENCES} Galassia}\newline\newline
			\textsf{\textit{FlussoContHP}(\underline{Atomo, NomeGalassia}, Upperlimit, Aperture, Valore, Errore)}\newline
			\textsf{\textbf{FK}: NomeGalassia \textbf{REFERENCES} Galassia}\newline\newline
			\textsf{\textit{FlussoRigheSp}(\underline{Atomo, NomeGalassia}, Upperlimit, Aperture, Valore, Errore, IRSMode)}\newline
			\textsf{\textbf{FK}: NomeGalassia \textbf{REFERENCES} Galassia}\newline\newline
			\textsf{\textit{CaratteristicheFisiche}(Valore, Errore, Riferimento, \underline{Tipologia, NomeGalassia})}\newline
			\textsf{\textbf{FK}: NomeGalassia \textbf{REFERENCES} Galassia}\newline
		\end{framed}	
	\end{flushleft}

\newpage
\section{Implementazione}
	\subsection{Class diagram}
	\begin{flushleft}
		Come ricordiamo dai principi di ingegneria del software, la fase di \textit{analisi} definisce l'ambito di lavoro del sistema da realizzare, ovvero quali sono i compiti che deve effettivamente svolgere. La fase di \textit{progettazione} per converso si occupa di definire in che modo questi compiti verranno portati a termine dal sistema.\newline
		Il fine più importante di questa fase è la stesura di un diagramma delle classi che rifletta ciò che il committente ha richiesto e che è stato inserito fra i requisiti funzionali del sistema.
		Di seguito viene riportato il diagramma delle classi per il sistema di cui si occupa la relazione, suddiviso sulla base dei requisiti funzionali in modo da risultare più chiaro. Nella stessa ottica, sono stati inseriti nelle classi solo attributi e metodi che vengono effettivamente richiamati nell'ambito del requisito.\newline\newline
	\end{flushleft}

	\begin{flushleft}
		\begin{figure}[h]
			\resizebox{18cm}{12.5cm}{
				\begin{tikzpicture}
				\begin{class}[text width=4cm]{StartView}{-4,-1.85}
				\operation{+main() : void}
				\end{class}
				
				\begin{class}[text width=5cm] {LoginControl}{3,-0.5}
				\attribute{-txtUser : TextField}
				\attribute{-txtPsw : TextField}
				\attribute{-btnOK : Button}
				\operation{+initialize() : void}
				\operation{+checkUser(String name, String password) : bool}
				\end{class}
				
				\association{StartView}{}{}{LoginControl}{}{}
				
				\begin{class}[text width=5cm]{UserDAO}{9.5,-0.29}
				\attribute{-connection : Connection}
				\operation{-openConnection() : void}
				\operation{-closeConnection() : void}
				\operation{+checkUser(String name, String password) : bool}
				\operation{+checkAdmin(String name, String password) : bool}
				\end{class}
				
				\draw[umlcd style] (StartView.east) -- (LoginControl.west);
				\draw[umlcd style] (LoginControl.east) -- (UserDAO.west);
				
				\begin{class}[text width = 5cm]{User}{9.5, -8}
				\attribute{-name : String}
				\attribute{-surname : String}
				\attribute{-email : String}
				\attribute{-userid : String}
				\attribute{-password : String}
				\end{class}
				
				\draw[umlcd style] (UserDAO.south) -- (User.north);
				
				\begin{class}[text width = 5cm]{UserView}{-4,-8}
				\operation{+UserView() : UserView}
				\operation{-startView() : void}
				\end{class}
				
				\begin{class}[text width = 6cm]{AdminView}{-4, -12}
				\inherit{UserView}	
				\operation{+AdminView() : AdminView}
				\operation{-startView() : void}
				\end{class}
				
				\draw[dashed, ->] (LoginControl.south) |- node[xshift=-20mm, yshift=3mm]{<<istanzia>>} (UserView.east);
				\draw[dashed, ->] (LoginControl.south) |- node[xshift=-18mm, yshift=3mm]{<<istanzia>>} (AdminView.east);
				\end{tikzpicture}
			}
			\caption{Vista requisito funzionale \texttt{\#}1}
		\end{figure}
	\end{flushleft}
	
	\newpage
	\begin{figure}[h!]
		\begin{tikzpicture}
			\begin{class}[text width=6cm]{AdminView}{0,-0.35}
				\operation{+AdminView() : AdminView}
				\operation{-startView() : void}
			\end{class}
			
			\begin{class}[text width=6cm] {AdminControl}{8,-0.35}
				\attribute {-menuInsertUser : Menu}
				\operation{+initialize() : void}
				\operation{+handleEventInsertUser() : void}
			\end{class}
			
			\begin{class}[text width=7cm] {InsertUserView}{0,-5}
				\operation{+InsertUserView() : InsertUserView}
				\operation{-startView() : void}
			\end{class}
			
			\begin{class}[text width=8cm] {InsertUserControl}{0, -11}
				\attribute{-txtName : TextField}
				\attribute{-txtSurname : TextField}
				\attribute{-txtEmail : TextField}
				\attribute{-txtUserId : TextField}
				\attribute{-txtPassword : TextField}
				\attribute{-btnOK : Button}
				\operation{+initialize() : void}
				\operation{-handleEventButtonOK(String name, String surname, String email, String userid, String password) : void}
			\end{class}
			
			\draw[dashed, ->] (AdminControl.south) |- node[xshift=-18mm, yshift=3mm]{<<istanzia>>} (InsertUserView.east);
		
			\association{InsertUserView}{}{}{InsertUserControl}{}{}
			\association{AdminView}{}{}{AdminControl}{}{}
			
			\begin{class}[text width=6cm]{UserDAO}{10,-12.36}
				\attribute{connection : Connection}
				\operation{+UserDAO() : UserDAO}
				\operation{-openConnection() : void}
				\operation{-closeConnection() : void}
				\operation{+insertUser(User user) : bool}
			\end{class}
			
			\association{InsertUserControl}{}{}{UserDAO}{}{}
			
			\begin{class}[text width = 6cm]{User}{10, -20}
			\attribute{-name : String}
			\attribute{-surname : String}
			\attribute{-email : String}
			\attribute{-userid : String}
			\attribute{-password : String}
			\end{class}
			
			\association{UserDAO}{}{<<inserisce>>}{User}{}{}
		\end{tikzpicture}
	\caption{Vista requisito funzionale \texttt{\#}3 - Inserimento di un utente}
	\end{figure}
	\begin{figure}[h!]
		\begin{tikzpicture}
		\begin{class}[text width=6cm]{AdminView}{-4,-0.5}
			\operation{+AdminView() : AdminView}
			\operation{-startView() : void}
		\end{class}
		
		\begin{class}[text width=6cm] {AdminControl}{3,0}
			\attribute {-menuImportFile : Menu}
			\attribute{-listGalaxies : ListView}
			\operation{+initialize() : void}
			\operation{+handleEventImportFile() : String}
		\end{class}
		
		\association{AdminView}{}{}{AdminControl}{}{}
		
		\begin{class}[text width=7cm] {ImportFileView}{-4,-6}
			\operation{+ImportFileView() : ImportFileView}
			\operation{-startView() : void}
		\end{class}
		
		\begin{abstractclass}[text width=6cm] {ImportCSV}{3, -11}
			\umlnote at(-3,-10){Sfruttato il pattern \textit{Factory Method}};
			\operation{\textit{+importFile(String path)} : \textit{void}}
		\end{abstractclass}
		
		\begin{class}[text width=6cm]{ImportCSVFluxLineHP} {-5, -15}
			\operation{-resetDB() : void}
			\operation{+importFile(String path) : void}
		\end{class}
		\begin{class}[text width=6cm]{ImportCSVFluxContHP} {6, -15}
			\operation{-resetDB() : void}
			\operation{+importFile(String path) : void}
		\end{class}
		\begin{class}[text width=6cm]{ImportCSVFluxLineSpitzer} {-5, -19.5}
			\operation{-resetDB() : void}
			\operation{+importFile(String path) : void}
		\end{class}
		\begin{class}[text width=6cm]{ImportCSVGalaxy} {6, -20}
			\operation{-resetDB() : void}
			\operation{+importFile(String path) : void}
		\end{class}
		
		\draw[dashed, ->] (AdminControl.south) |- node[xshift=-18mm, yshift=3mm]{<<istanzia>>} (ImportFileView.east);
		
		\draw[dashed, ->] (ImportCSV.west) -| node[xshift=-8mm, yshift=-25mm]{<<eredita>>} (ImportCSVFluxLineHP.north);
		
		\draw[dashed, ->] (ImportCSV.west) |- node[xshift=-8mm, yshift=5mm]{<<eredita>>} (ImportCSVFluxLineSpitzer.east);
		
		\draw[dashed, ->] (ImportCSV.south) -| node[xshift=-8mm, yshift=-75mm]{<<eredita>>} (ImportCSVGalaxy.west);
		
		\draw[dashed, ->] (ImportCSV.east) |- node[xshift=-8mm, yshift=5mm]{<<eredita>>} (ImportCSVFluxContHP.north);
		
		\draw[dashed, ->] (AdminControl.south) to node[xshift=-7mm, yshift=-35mm]{<<usa>>} (ImportCSV.north);
		\end{tikzpicture}
		\caption{Vista requisito funzionale \texttt{\#}4 - Import di un file}
	\end{figure}
\clearpage
	\begin{figure}[h!]
		\begin{tikzpicture}
			\umlnote at(12,-5){In questo caso le classi \textit{AdminView} e\newline \textit{AdminControl} sono sovrapponibili rispettivamente a \textit{UserView} e \textit{UserViewControl}};
		
			\begin{class}[text width=4cm]{AdminView}{-1,-0.35}
				\operation{+AdminView() : AdminView}
				\operation{-startView() : void}
			\end{class}
			
			\begin{class}[text width=9.5cm] {AdminControl}{8,0}
				\attribute {-menuSearchGalaxyForName : Menu}
				\operation{+initialize() : void}
				\operation{+handleEventMenuSearchGalaxyForName() : void}
			\end{class}
			
			\association{AdminView}{}{}{AdminControl}{}{}
			
			\begin{class}[text width=7cm] {SearchGalaxyForNameView}{0,-5}
				\operation{+SearchGalaxyForNameView() : SearchGalaxyForNameView}
				\operation{-startView() : void}
			\end{class}
			
			\begin{class}[text width=7cm]{SearchGalaxyForNameControl}{0,-9}
				\attribute{-txtGalaxyName : TextField}
				\attribute{-btnOK : Button}
				\operation{+initialize() : void}
			\end{class}
			
			\association{SearchGalaxyForNameControl}{}{}{SearchGalaxyForNameView}{}{}
			
			\draw[dashed, ->] (AdminControl.south) |- node[xshift=-18mm, yshift=3mm]{<<istanzia>>} (SearchGalaxyForNameView.east);
			
			\begin{class}[text width = 8cm]{GalaxyDAO}{10, -10}
				\operation{+searchGalaxyForName(String name) : Galaxy}
			\end{class}
			
			\association{SearchGalaxyForNameControl}{}{}{GalaxyDAO}{}{}
			
			\begin{class}[text width = 10cm]{Galaxy}{10, -14}
				\attribute{-nome : String}
				\attribute{-nomeAlt : String}
				\attribute{-redshift : Double}
				\attribute{-coordinateAngolari : CoordinateAngolari}
				\attribute{-caratteristicheFisiche : CaratteristicheFisiche}
				\operation{+Galaxy(String name, String altName, CaratteristicheFisiche cf, CoordinateAngolari ca) : Galaxy}
			\end{class}
			
			\draw[dashed, ->] (GalaxyDAO.south) to node[xshift=-12mm, yshift=-5mm]{<<recupera>>} (Galaxy.north);
		\end{tikzpicture}
		\caption{Vista requisito funzionale \texttt{\#}5 - Ricerca di una galassia per nome}
	\end{figure}
	\begin{figure}[h!]
		\begin{tikzpicture}
		\umlnote at(12,-5){In questo caso le classi \textit{AdminView} e\newline \textit{AdminControl} sono sovrapponibili rispettivamente a \textit{UserView} e \textit{UserViewControl}};
		
		\begin{class}[text width=4cm]{AdminView}{-1,-0.35}
		\operation{+AdminView() : AdminView}
		\operation{-startView() : void}
		\end{class}
		
		\begin{class}[text width=9.5cm] {AdminControl}{8,0}
		\attribute {-menuSearchGalaxyForName : Menu}
		\operation{+initialize() : void}
		\operation{+handleEventMenuSearchGalaxyForRadius() : void}
		\end{class}
		
		\association{AdminView}{}{}{AdminControl}{}{}
		
		\begin{class}[text width=7cm] {SearchGalaxyForRadiusView}{0,-5}
		\operation{+SearchGalaxyForRadiusView() : SearchGalaxyForRadiusView}
		\operation{-startView() : void}
		\end{class}
		
		\begin{class}[text width=7cm]{SearchGalaxyForRadiusControl}{0,-9}
			\attribute{-txtARh : TextField}
			\attribute{-txtARm : TextField}
			\attribute{-txtARs : TextField}
			\attribute{-txtDecSign : TextField}
			\attribute{-txtDech : TextField}
			\attribute{-txtDecm : TextField}
			\attribute{-txtDecs : TextField}
			\attribute{-numberGalaxies : TextField}
			\attribute{-listGalaxies : ListView}
			\attribute{-btnOK : Button}
			\operation{+initialize() : void}
		\end{class}
		
		\association{SearchGalaxyForNameControl}{}{}{SearchGalaxyForNameView}{}{}
		
		\draw[dashed, ->] (AdminControl.south) |- node[xshift=-18mm, yshift=3mm]{<<istanzia>>} (SearchGalaxyForNameView.east);
		
		\begin{class}[text width = 8cm]{GalaxyDAO}{10, -10}
			\operation{+searchGalaxyForRadius(Declination d, RightAscension ra, int n, double radius) : List$<$Galaxy$>$}
		\end{class}
		
		\association{SearchGalaxyForNameControl}{}{}{GalaxyDAO}{}{}
		
		\begin{class}[text width = 10cm]{Galaxy}{10, -14}
			\attribute{-nome : String}
			\attribute{-nomeAlt : String}
			\attribute{-redshift : Double}
			\attribute{-coordinateAngolari : CoordinateAngolari}
			\attribute{-caratteristicheFisiche : CaratteristicheFisiche}
			\operation{+Galaxy(String name, String altName, Double dist) : Galaxy}
		\end{class}
		
		\draw[dashed, ->] (GalaxyDAO.south) to node[xshift=-12mm, yshift=-5mm]{<<recupera>>} (Galaxy.north);
		\end{tikzpicture}
		\caption{Vista requisito funzionale \texttt{\#}6 - Ricerca le prime \textit{n} galassie all'interno di un raggio}
	\end{figure}
	\begin{figure}[h!]
		\begin{tikzpicture}
		\umlnote at(12,-5){In questo caso le classi \textit{AdminView} e\newline \textit{AdminControl} sono sovrapponibili rispettivamente a \textit{UserView} e \textit{UserViewControl}};
		
		\begin{class}[text width=4cm]{AdminView}{-1,-0.35}
		\operation{+AdminView() : AdminView}
		\operation{-startView() : void}
		\end{class}
		
		\begin{class}[text width=9.5cm] {AdminControl}{8,0}
		\attribute {-menuSearchGalaxyForRedshift : Menu}
		\operation{+initialize() : void}
		\operation{+handleEventMenuSearchGalaxyForredshift() : void}
		\end{class}
		
		\association{AdminView}{}{}{AdminControl}{}{}
		
		\begin{class}[text width=7cm] {SearchGalaxyForRedshiftView}{0,-5}
		\operation{+SearchGalaxyForRedshiftView() : SearchGalaxyForRedshiftView}
		\operation{-startView() : void}
		\end{class}
		
		\begin{class}[text width=7cm]{SearchGalaxyForRedshiftControl}{0,-9}
			\attribute{-txtRedshiftValue : TextField}
			\attribute{-choiceGreaterLess : bool}
			\attribute{-listGalaxies : ListView}
			\attribute{-btnOK : Button}
			\operation{+initialize() : void}
		\end{class}
		
		\association{SearchGalaxyForNameControl}{}{}{SearchGalaxyForNameView}{}{}
		
		\draw[dashed, ->] (AdminControl.south) |- node[xshift=-18mm, yshift=3mm]{<<istanzia>>} (SearchGalaxyForNameView.east);
		
		\begin{class}[text width = 8cm]{GalaxyDAO}{10, -10}
		\operation{+searchGalaxyForRedshift(double value, bool lgt) : List$<$Galaxy$>$}
		\end{class}
		
		\association{SearchGalaxyForNameControl}{}{}{GalaxyDAO}{}{}
		
		\begin{class}[text width = 10cm]{Galaxy}{10, -14}
		\attribute{-nome : String}
		\attribute{-nomeAlt : String}
		\attribute{-redshift : Double}
		\attribute{-coordinateAngolari : CoordinateAngolari}
		\attribute{-caratteristicheFisiche : CaratteristicheFisiche}
		\operation{+Galaxy(String name, String altName, Double redshift) : Galaxy}
		\end{class}
		
		\draw[dashed, ->] (GalaxyDAO.south) to node[xshift=-12mm, yshift=-5mm]{<<recupera>>} (Galaxy.north);
		\end{tikzpicture}
		\caption{Vista requisito funzionale \texttt{\#}7 - Ricerca le prime \textit{n} galassie secondo \textit{redshift}}
	\end{figure}
	\begin{figure}[h!]
		\begin{tikzpicture}
		\umlnote at(12,-5){In questo caso le classi \textit{AdminView} e\newline \textit{AdminControl} sono sovrapponibili rispettivamente a \textit{UserView} e \textit{UserViewControl}};
		
		\begin{class}[text width=4cm]{AdminView}{-1,-0.35}
		\operation{+AdminView() : AdminView}
		\operation{-startView() : void}
		\end{class}
		
		\begin{class}[text width=9.5cm] {AdminControl}{8,0}
			\attribute {-menuSearchFluxValErr : Menu}
			\operation{+initialize() : void}
			\operation{+handleEventMenuSearchFluxValErr() : void}
		\end{class}
		
		\association{AdminView}{}{}{AdminControl}{}{}
		
		\begin{class}[text width=7cm] {SearchFluxValErrView}{0,-5}
			\operation{+SearchFluxValErrView() : SearchFluxValErrView}
			\operation{-startView() : void}
		\end{class}
		
		\begin{class}[text width=7cm]{SearchFluxValErrControl}{0,-9}
			\attribute{-txtGalaxyName : TextField}
			\attribute{-listAtoms : List}
			\attribute{-listFluxLineHP : ListView}
			\attribute{-listFluxContHP : ListView}
			\attribute{-listFluxLineSp : ListView}
			\attribute{-btnOK : Button}
			\operation{+initialize() : void}
		\end{class}
		
		\association{SearchFluxValErrControl}{}{}{SearchFluxValErrView}{}{}
		
		\draw[dashed, ->] (AdminControl.south) |- node[xshift=-18mm, yshift=3mm]{<<istanzia>>} (SearchGalaxyForNameView.east);
		
		\begin{class}[text width = 8cm]{FluxDAO}{10, -10}
			\operation{+searchFluxValErr(String galaxyName, String[] atoms, String table) : List$<$Flux$>$}
		\end{class}
		
		\association{SearchFluxValErrControl}{}{}{FluxDAO}{}{}
		
		\begin{class}[text width = 10cm]{Flux}{10, -14}
			\attribute{-galaxyName : String}
			\attribute{-atom : String}
			\attribute{-upperLimit : String}
			\attribute{-value : Double}
			\attribute{-error : Double}
			\operation{+Flux(String galaxyName, String atom, String upperLimit, Double value, Double error) : Flux}
		\end{class}
		
		\draw[dashed, ->] (FluxDAO.south) to node[xshift=-12mm, yshift=-5mm]{<<recupera>>} (Flux.north);
		\end{tikzpicture}
		\caption{Vista requisito funzionale \texttt{\#}8 - Valori delle linee spettrali}
	\end{figure}
	\begin{figure}[h!]
		\begin{tikzpicture}
		\umlnote at(12,-5){In questo caso le classi \textit{AdminView} e\newline \textit{AdminControl} sono sovrapponibili rispettivamente a \textit{UserView} e \textit{UserViewControl}};
		
		\begin{class}[text width=4cm]{AdminView}{-1,-0.35}
		\operation{+AdminView() : AdminView}
		\operation{-startView() : void}
		\end{class}
		
		\begin{class}[text width=9.5cm] {AdminControl}{8,0}
		\attribute {-menuSearchFluxRatio : Menu}
		\operation{+initialize() : void}
		\operation{+handleEventMenuSearchFluxRatio() : void}
		\end{class}
		
		\association{AdminView}{}{}{AdminControl}{}{}
		
		\begin{class}[text width=7cm] {SearchFluxRatioView}{0,-5}
			\operation{+SearchFluxRatioView() : SearchFluxRatioView}
			\operation{-startView() : void}
		\end{class}
		
		\begin{class}[text width=7cm]{SearchFluxRatioControl}{0,-9}
			\attribute{-txtGalaxyName : TextField}
			\attribute{-firstLine : String[]}
			\attribute{-secondLine : String[]}
			\attribute{-ratioValue : double}
			\attribute{-isUpperlimit : bool}
			\attribute{-btnOK : Button}
			\operation{+initialize() : void}
			\operation{-retrieveFluxValueDB(String galaxyName, String atom, String table) : Flux}
		\end{class}
		
		\association{SearchFluxRatioControl}{}{}{SearchFluxRatioView}{}{}
		
		\draw[dashed, ->] (AdminControl.south) |- node[xshift=-18mm, yshift=3mm]{<<istanzia>>} (SearchFluxRatioView.east);
		
		\begin{class}[text width = 8cm]{FluxDAO}{10, -10}
			\operation{+searchFluxVal(String galaxyName, String[] atoms, String table) : Flux}
		\end{class}
		
		\association{SearchFluxRatioControl}{}{}{FluxDAO}{}{}
		
		\begin{class}[text width = 10cm]{Flux}{10, -14}
		\attribute{-galaxyName : String}
		\attribute{-atom : String}
		\attribute{-upperLimit : String}
		\attribute{-value : Double}
		\attribute{-error : Double}
		\operation{+Flux(String galaxyName, String atom, String upperLimit, Double value, Double error) : Flux}
		\end{class}
		
		\draw[dashed, ->] (FluxDAO.south) to node[xshift=-12mm, yshift=-5mm]{<<recupera>>} (Flux.north);
		\end{tikzpicture}
		\caption{Vista requisito funzionale \texttt{\#}9 - Valori dei rapporti delle righe e \texttt{\#}11 - Rapporto tra flusso e continuo}
	\end{figure}
	\begin{figure}[h!]
		\begin{tikzpicture}
		\umlnote at(12,-5){In questo caso le classi \textit{AdminView} e\newline \textit{AdminControl} sono sovrapponibili rispettivamente a \textit{UserView} e \textit{UserViewControl}};
		
		\begin{class}[text width=4cm]{AdminView}{-1,-0.35}
		\operation{+AdminView() : AdminView}
		\operation{-startView() : void}
		\end{class}
		
		\begin{class}[text width=9.5cm] {AdminControl}{8,0}
		\attribute {-menuSearchFluxRatio : Menu}
		\operation{+initialize() : void}
		\operation{+handleEventMenuSearchFluxRatio() : void}
		\end{class}
		
		\association{AdminView}{}{}{AdminControl}{}{}
		
		\begin{class}[text width=7cm] {StatisticsValueRatioView}{0,-5}
		\operation{+StatisticsValueRatioView() : StatisticsValueRatioView}
		\operation{-startView() : void}
		\end{class}
		
		\begin{class}[text width=7cm]{StatisticsValueRatioControl}{0,-9}
			\attribute{-median : Double}
			\attribute{-meanValue : Double}
			\attribute{-devStd : Double}
			\attribute{-devMeanabs : Double}
			\attribute{-specGroup : String[]}
			\attribute{-aperture : String[]}
			\attribute{-fluxType : String[]}
			\attribute{-btnOK : Button}
			\operation{+initialize() : void}
			\operation{-retrieveFluxValueDB(String galaxyName, String atom, String table) : Flux}
		\end{class}
		
		\association{StatisticsValueRatioView}{}{}{StatisticsValueRatioControl}{}{}
		
		\draw[dashed, ->] (AdminControl.south) |- node[xshift=-18mm, yshift=3mm]{<<istanzia>>} (SearchFluxRatioView.east);
		
		\begin{class}[text width = 8cm]{FluxDAO}{10, -10}
		\operation{+searchFluxVal(String galaxyName, String[] atoms, String table) : Flux}
		\end{class}
		
		\association{StatisticsValueRatioControl}{}{}{FluxDAO}{}{}
		
		\begin{class}[text width = 10cm]{Flux}{10, -14}
		\attribute{-galaxyName : String}
		\attribute{-atom : String}
		\attribute{-upperLimit : String}
		\attribute{-value : Double}
		\attribute{-error : Double}
		\operation{+Flux(String galaxyName, String atom, String upperLimit, Double value, Double error) : Flux}
		\end{class}
		
		\draw[dashed, ->] (FluxDAO.south) to node[xshift=-12mm, yshift=-5mm]{<<recupera>>} (Flux.north);
		\end{tikzpicture}
		\caption{Vista requisito funzionale \texttt{\#}10 - Valori dei rapporti delle righe per gruppo spettrale}
	\end{figure}
\clearpage
\subsection{Scelta dell'ambiente}
		\begin{flushleft}
			Dopo aver passato i tre livelli di progettazione del sistema informatico, possiamo passare alla fase di implementazione. La scelta del linguaggio di programmazione o dell'ambiente su cui sviluppare il progetto non \'{e} ovvia vista la moltitudine di alternative presenti. \newline
			Di certo c'è che il linguaggio SQL non offre funzioni di interazione con i file né tanto meno la possibilità di creare interfacce utente, requisito fondamentale per la realizzazione di un'applicazione che sia semplice da utilizzare. Le query SQL vanno necessariamente inserite in un linguaggio di programmazione che metta a disposizione tutte quelle funzioni che ad SQL non sono state fornite.\newline
			
			L'adozione di SQL all'interno di linguaggi di programmazione che fossero completi dal punto di vista operazionale ha attraversato varie fasi di complessità sintetizzabili in tre punti:
		\end{flushleft}
		\begin{enumerate}
			\item SQL integrato nei linguaggi di programmazione
			\item Librerie sviluppate a partire dalle istruzioni SQL, ovvero le CLI (\textit{Call Level Interface})
			\item Object Relational Mapping
		\end{enumerate}
		\begin{flushleft}
			La prima soluzione, definita anche \textit{SQL embedded}, integra le query SQL all'interno del codice separandole dal resto tramite opportune istruzioni. Come si vedrà nel seguito, nel caso di \textit{ECPG} l'istruzione in questione è \texttt{EXEC SQL} terminata dal carattere ;.\newline
			Nel caso delle CLI, Call Level Interface, sono state sviluppate librerie che permettessero di eseguire query SQL nel linguaggio di programmazione ospite tramite opportune funzioni e metodi sviluppati allo scopo. Tra i principali vantaggi offerti da queste librerie possiamo notare la mappatura automatica tra i tipi di dato del linguaggio ospitante ed SQL, oltre ad una maggiore semplicità nella gestione dei dati recuperati dalla base di dati. \textit{JDBC} rientra proprio in questa categoria di soluzioni ed è quella che è stata ampiamente sfruttata per l'implementazione del progetto.\newline
			Tuttavia, nonostante il grado di complessità dello sviluppo di applicazioni che interagissero con database sia stato notevolmente abbassato, si sono compiuti ulteriori passi in avanti. A questo proposito, notiamo che generalmente c'è una stretta correlazione tra i dati che utilizziamo nel codice del programma e le tabelle che vengono effettivamente utilizzate all'interno del database. La soluzione a mappatura di oggetti \textit{ORM} si muove proprio in questa direzione, creando una connessione tra le classi insieme gli attributi in esse contenuti e le tabelle salvate durante l'esecuzione. I framework \textit{JPA} ed \textit{Hibernate} appartengono a questa categoria di soluzioni.
			
			\subsubsection{ECPG}
			A titolo di esempio viene riportato il caso di \textit{ecpg}, un applicativo presente nell'installazione del DBMS Postgresql. Questo applicativo si occupa di tradurre un sorgente in linguaggio C il cui file ha estensione \textsf{.pgc}, fornendo in output un nuovo sorgente, stavolta con estensione \textsf{.c}, che si serve delle particolari funzioni di libreria del DBMS. Ad esempio, si occupa tradurre il codice preceduto da \texttt{EXEC SQL} in modo che interagisca con la console PSQL. Infatti eseguendo le stesse istruzioni direttamente da console otterremo gli stessi risultati, salvo i valori delle variabili nel programma.\newline 
			Questo sorgente verr\'{a} poi compilato come un normale programma in linguaggio C. Questo processo viene riassunto nell'immagine qui di seguito:
		
			\newcommand{\gear}[5]{
				\begin{tikzpicture}
					foreach \i in {1,...,#1} [rotate=(\i-1)*360/#1] (0:#2)  arc (0:#4:#2) {[rounded corners=1.5pt] -- (#4+#5:#3)  arc (#4+#5:360/#1-#5:#3)} --  (360/#1:#2)
				\end{tikzpicture}
			}%
			
			\begin{center}
				\begin{figure}
				\begin{tikzpicture}[scale= 0.7, every node/.style = {shape=rectangle, rounded corners,
					draw, align=center,
					top color=white, bottom color=blue!20}]		
				
				\draw  (0,12) node(testPGC){testECPG.pgc}				
				(0,10) node(preproc) {Preprocessore ecpg}
				(0,8) node(testC){testECPG.c}
				(0,6) node (comp){Compilatore C}
				(-5,4) node (ecpglib){Liberia ECPG}
				(0,4) node (testO){testECPG.o}
				(5,4) node (alLib){Altre librerie}
				(0,2) node (linker){Linker}
				(0,0) node (test){testECPG};
				\foreach \from/\to in {testPGC/preproc, preproc/testC, testC/comp, comp/testO, testO/linker, ecpglib/linker, alLib/linker, linker/test}
				\draw [->, thick] (\from) -- (\to);
				\end{tikzpicture}
				\caption{Processo di compilazione di un programma \textit{.pgc}}
			\end{figure}
			\end{center}
			
			Al fine di avere un'idea chiara di come si procede lavorando con questi strumenti, il processo \'{e} stato ripetuto in ambiente Ubuntu con dei sorgenti di test. Si parte dunque da un sorgente \textit{testECPG.pgc}:
			
		\end{flushleft}
		
		\begin{lstlisting}[language=C, caption=testECPG.pgc]
		#include <stdio.h>
		#include <sys/types.h>
		#include <libpq-fe.h>
		#include <libpq/libpq-fs.h>
		
		/* 1 - Viene inclusa la libreria relativa alla gestione degli errori tramite la variabile globale sqlca (SQL communication area) */
		EXEC SQL INCLUDE sqlca;
		
		int main (int argc, char **argv)
		{
		/* 2 - Comando che realizza la connessione al database */
		EXEC SQL CONNECT TO testDB@localhost:5432 USER user/password;
		
		/*Come succede molto spesso nella gestione degli errori in linguaggio C, il valore ritornato da una funzione viene utilizzato anche come codice di errore, considerando lo 0 come esecuzione andata a buon fine */
		if (sqlca.sqlcode != 0)	{
		printf("Errore di connessione al DB\n");
		printf("Errore %d\n", (int)sqlca.sqlcode);
		}
		
		/* 3 - Esegui un'operazione di test */
		EXEC SQL CREATE TABLE TableTest (number integer, ascii char(16));
		fprintf (stdout, "Created table TestTable\n");
		
		/* 4 - Esegui le operazioni */
		EXEC SQL COMMIT;
		
		/* 5 - Disconnessione dal database */
		EXEC SQL DISCONNECT ALL;
		
		return EXIT_SUCCESS;
		}
		\end{lstlisting}
		
		che viene preprocessato dal comando \textit{ecpg}:
		
		\begin{center}
			\textit{username@host:./\$ ecpg ecpg\_sample.pgc}
		\end{center}
		
		Il file risultante con estensione \textsf{.c} utilizza le particolari funzioni di libreria offerte dal DBMS PostgreSQL:
		
		\begin{lstlisting}[language=C, caption=testECPG.c]
		/* Processed by ecpg (4.11.0) */
		/* These include files are added by the preprocessor */
		#include <ecpglib.h>
		#include <ecpgerrno.h>
		#include <sqlca.h>
		/* End of automatic include section */
		
		#line 1 "ecpg_sample.pgc"
		#include <stdio.h>
		#include <sys/types.h>
		#include <libpq-fe.h>
		#include <libpq/libpq-fs.h>
		
		/* 1 - Viene inclusa la libreria relativa alla gestione degli errori tramite la variabile globale sqlca (SQL communication area) */
		
		#line 1 "/usr/include/postgresql/sqlca.h"
		#ifndef POSTGRES_SQLCA_H
		#define POSTGRES_SQLCA_H
		
		#ifndef PGDLLIMPORT
		#if  defined(WIN32) || defined(__CYGWIN__)
		#define PGDLLIMPORT __declspec (dllimport)
		#else
		#define PGDLLIMPORT
		#endif   /* __CYGWIN__ */
		#endif   /* PGDLLIMPORT */
		
		#define SQLERRMC_LEN	150
		
		#ifdef __cplusplus
		extern		"C"
		{
		#endif
		
		struct sqlca_t
		{
			char		sqlcaid[8];
			long		sqlabc;
			long		sqlcode;
			struct
			{
				int			sqlerrml;
				char		sqlerrmc[SQLERRMC_LEN];
			}			sqlerrm;
			char		sqlerrp[8];
			long		sqlerrd[6];
			/* Element 0: empty						*/
			/* 1: OID of processed tuple if applicable			*/
			/* 2: number of rows processed				*/
			/* after an INSERT, UPDATE or				*/
			/* DELETE statement					*/
			/* 3: empty						*/
			/* 4: empty						*/
			/* 5: empty						*/
			char		sqlwarn[8];
			/* Element 0: set to 'W' if at least one other is 'W'	*/
			/* 1: if 'W' at least one character string		*/
			/* value was truncated when it was			*/
			/* stored into a host variable.             */
			
			/*
			* 2: if 'W' a (hopefully) non-fatal notice occurred
			*/	/* 3: empty */
			/* 4: empty						*/
			/* 5: empty						*/
			/* 6: empty						*/
			/* 7: empty						*/
			
			char		sqlstate[5];
			};
		
			struct sqlca_t *ECPGget_sqlca(void);
			
			#ifndef POSTGRES_ECPG_INTERNAL
			#define sqlca (*ECPGget_sqlca())
			#endif
			
			#ifdef __cplusplus
			}
			#endif
		
		#endif
		
		#line 7 "ecpg_sample.pgc"
		
		int main (int argc, char **argv)
		{
			/* 2 - Comando che realizza la connessione al database */
			{ ECPGconnect(__LINE__, 0, "testDB@localhost:5432" , "postgres" , "portento123" , NULL, 0); }
			#line 12 "ecpg_sample.pgc"
			
			/*Come succede molto spesso nella gestione degli errori in linguaggio C, il valore ritornato da una funzione viene utilizzato anche come codice di errore, considerando lo 0 come esecuzione andata a buon fine */
			if (sqlca.sqlcode != 0)	{
			printf("Errore di connessione al DB\n");
			printf("Errore %d\n", (int)sqlca.sqlcode);
		}
		
		/* 3 - Esegui un'operazione di test */
		{ ECPGdo(__LINE__, 0, 1, NULL, 0, ECPGst_normal, "create table TableTest ( number integer , ascii char ( 16 ) )", ECPGt_EOIT, ECPGt_EORT);}
		#line 21 "ecpg_sample.pgc"
		
		fprintf (stdout, "Created table TestTable\n");
		
		/* 4 - Esegui le operazioni */
		{ ECPGtrans(__LINE__, NULL, "commit");}
		#line 25 "ecpg_sample.pgc"
		
		/* 5 - Disconnessione dal database */
		{ ECPGdisconnect(__LINE__, "ALL");}
		#line 28 "ecpg_sample.pgc"
		
		return EXIT_SUCCESS;
		}
		\end{lstlisting}
		\begin{flushleft}
			Possiamo notare che l'istruzione \textsf{EXEC SQL INCLUDE sqlca;} è stata tradotta con un \textsf{\#include $<$sqlca.h$>$}, quindi effettivamente con l'inclusione di una libreria esterna, così come il comando di \textsf{CREATE TABLE} è stato inserito tra i parametri della funzione \textsf{ECPGdo()}.\newline
			Il file risultante dalla preprocessazione pu\'{o} dunque essere compilato tramite \textit{GCC}, avendo l'accortezza di linkare tutte le librerie di cui il programma ha bisogno. Il procedimento va eseguito manualmente nel caso in cui, come spesso accade, esse non siano presenti nella stessa directory del sorgente o nelle directory predefinite di GCC.
		\end{flushleft}
		\begin{center}
			\textit{gcc -I /usr/include/postgresql ecpg\_sample.c -o ecpg\_sample -L /usr/lib/x86\_64-linux-gnu/libecpg.a /usr/lib/x86\_64-linux-gnu/libecpg.so /usr/lib/x86\_64-linux-gnu/libecpg.so.6 /usr/lib/x86\_64-linux-gnu/libecpg\_compat.so /usr/lib/x86\_64-linux-gnu/libecpg\_compat.so.3}
		\end{center}
		\begin{flushleft}
			Il risultato che otterremo sar\'{a} il seguente:
		\end{flushleft}
		\begin{center}
			\includegraphics[scale=0.35]{./screenshot}
		\end{center}
		
		\begin{flushleft}
			Nel procedimento riportato, l'utilizzo del linguaggio C come ospitante l'SQL non risulta efficiente in quanto, oltre alla complessit\'{a} del processo di compilazione, ad ogni modifica del codice si porrebbe la necessit\'{a} di ripetere l'iter. Un makefile potrebbe tornare utile allo scopo, ma in ogni caso andrebbe mantenuto a seguito dell'aggiornamento del codice.\newline
			
			Non abbiamo significativi miglioramenti utilizzando la Call Level Interface offerta dal DBMS PostgreSQL relativamente al linguaggio C, ovvero una serie di librerie che rendono meno distaccato il codice relativo alle interrogazioni sul database rispetto al resto del codice.\newline
			Il codice risulta pi\'{u} omogeneo, ma non abbiamo risolto il problema del constant recompiling:\newline
			
		\end{flushleft}
		
		\begin{lstlisting}[language=C, caption=testPGSQL.c]
		#include <stdio.h>
		#include <stdlib.h>
		#include <libpq-fe.h>
		
		void do_exit(PGconn *conn) {
			PQfinish(conn);
			exit(1);
		}
		
		int main() {
		
			PGconn *conn = PQconnectdb("user=user password=password dbname=testDB");
			
			if (PQstatus(conn) == CONNECTION_BAD) {
				fprintf(stderr, "Connection to database failed: %s\n",
				PQerrorMessage(conn));
				do_exit(conn);
			}
			
			char *user = PQuser(conn);
			char *db_name = PQdb(conn);
			char *pswd = PQpass(conn);
			
			printf("User: %s\n", user);
			printf("Database name: %s\n", db_name);
			printf("Password: %s\n", pswd);
			
			PQfinish(conn);
			
			return 0;
		}
		\end{lstlisting}
		
		\begin{flushleft}
			Notiamo una maggiore coesione delle istruzioni SQL all'interno del linguaggio ospitante, tuttavia realizzare l'intero progetto in linguaggio C, munendolo di un'interfaccia grafica che fosse accettabile per un utente qualsiasi, sarebbe stata impresa non poco ardua.\newline
			Un linguaggio che si propone come soluzione sia al constant recompiling, sia alla difficolt\'{a} della compilazione stessa, sia alla realizzazione di un'interfaccia grafica gradevole \'{e} proprio Java.\newline
			Oltre ad essere uno dei più diffusi linguaggi di programmazione ad oggetti a livello mondiale, Java offre un insieme di librerie che realizzano la Call Level Interface, aggiungendo uno strato di astrazione tra programma applicativo e codice eseguito dal DBMS. Questo strato di astrazione viene realizzato come previsto dalla libreria JDBC, la quale realizza la connessione tra programma e DBMS tramite più tipi di architettura. Nel caso di questo progetto, l'architettura si poggia sul Driver specifico per il DBMS adottato, Postgresql. Nella figura di seguito viene riassunta la catena di chiamate effettuate durante l'esecuzione:		
		\end{flushleft}
		\begin{figure}[h]
				\centering\begin{tikzpicture}[node distance = 3cm, auto]
					\tikzstyle{block} = [rectangle, draw, fill=black!20, 
					text width=20em, text centered, rounded corners, minimum height=3em]
					\tikzstyle{line} = [draw, -latex']
					%http://tex.stackexchange.com/questions/175393/tikz-stacked-disks-3d
					\tikzset{pics/.cd,
						disc/.style={
							code={
								\fill [white] ellipse [x radius=2, y radius=2/3];
								\path [left color=black!50, right color=black!50, middle color=black!25] 
								(-2+.05,-1.1) arc (180:360:2-.05 and 2/3-.05*2/3) -- cycle;
								\path [top color=black!25, bottom color=white] 
								(0,.05*2/3) ellipse [x radius=2-.05, y radius=2/3-.05*2/3];
								\path [left color=black!25, right color=black!25, middle color=white] 
								(-2,0) -- (-2,-1) arc (180:360:2 and 2/3) -- (2,0) arc (360:180:2 and 2/3);
								\foreach \r in {225,315}
								\foreach \i [evaluate={\s=30;}] in {0,2,...,30}
								\fill [black, fill opacity=1/50] 
								(0,0) -- (\r+\s-\i:2 and 2/3) -- ++(0,-1) 
								arc (\r+\s-\i:\r-\s+\i:2 and 2/3) -- ++(0,1) -- cycle;
								\foreach \r in {45,135}
								\foreach \i [evaluate={\s=30;}] in {0,2,...,30}
								\fill [black, fill opacity=1/50] 
								(0,0) -- (\r+\s-\i:2 and 2/3) 
								arc (\r+\s-\i:\r-\s+\i:2 and 2/3)  -- cycle;
							}
						},
						disc bottom/.style={
							code={
								\foreach \i in {0,2,...,30}
								\fill [black, fill opacity=1/60] (0,-1.1) ellipse [x radius=2+\i/40, y radius=2/3+\i/60];
								\path pic {disc};
							}
						}
					}
					
					% Place nodes
					\node [block] (app) {Applicazione};
					\node [block, below of=app, above=5mm] (JDBCApi) {JDBC API};
					\node [block, below of=JDBCApi, above=5mm] (JDBCDriverM) {JDBC DriverManager};
					\node[block, below of=JDBCDriverM, above=5mm](Driver) {JDBC Driver Postgresql};
					% Draw edges
					\path [line] (app) -- (JDBCApi);
					\path [line] (JDBCApi) -- (JDBCDriverM);
					\path [line] (JDBCDriverM) -- (Driver);
					\draw [<->, ultra thick] (0, -6.3) -- (0, -7.7);
					\node[draw] at (4,-8.5) {Disco fisso};
					\path (0,-8.5) pic {disc bottom};
					
					\draw[->>] (JDBCApi) to [bend left=45] (app);
					\draw[->>] (JDBCDriverM) to [bend left=45] (JDBCApi);
					\draw[->>]  (Driver) to [bend left=45] (JDBCDriverM);
				\end{tikzpicture}
				\caption{Architettura di JDBC riscontrata nel progetto}
		\end{figure}
\newpage

	\subsubsection{JDBC}
		\begin{flushleft}
				La connessione alle basi di dati \'{e} una funzionalit\'{a} che Java ha messo a disposizione gi\'{a} a partire dalla versione 1.2. Questo servizio viene offerto dalle API JDBC (Java Database Connectivity), le quali permettono la gestione dei dati indipendentemente dal DBMS utilizzato, purch\'{e} SQL-based, mantenendo intatto il paradigma Java "Write once, Run anywhere".\newline
				
				Un programma Java che sia stato scritto con l'intento di accedere ad un DBMS SQL-based si servir\'{a} delle API JDBC per interfacciarsi con la base di dati, essendo ora provvisto di metodi per l'interrogazione e la modifica dei dati. Esse saranno indipendenti dal DBMS impiegato, mantenendo cos\'{i} l'indipendenza del modello logico.\newline
				Queste API dovranno interfacciarsi con un gestore dei driver, il quale si servir\'{a} anche delle API JDBC per comunicare con lo specifico DBMS.
				Il driver viene caricato tramite la chiamata \textit{Class}.\textit{forName}() che carica la classe se l'operazione non \'{e} stata svolta precedentemente. Tutti i driver JDBC hanno un blocco statico all'interno della definizione della classe, il quale \'{e} deputato alla registrazione del driver nel \textit{DriverManager}. Questo blocco di codice, che potrebbe somigliare molto allo snippet riportato di seguito, verr\'{a} eseguito proprio in seguito alla chiamata del metodo \textit{forName}() di \textit{Class}:
		\end{flushleft}
		\begin{lstlisting}[language=java, caption=Snippet da \cite{JDBCDriver}]
	static { 
		try {
			java.sql.DriverManager.registerDriver(new Driver());
		catch (SQLException e) {
			throw new RuntimeException("Can't register driver!");
		}
	}
		\end{lstlisting}
	\begin{flushleft}
		La classe \textit{DriverManager} dovr\'{a} quindi scorrere tutti i driver registrati in seguito all'esecuzione di uno snippet simile al sopracitato e scegliere a runtime quello appropriato per svolgere la richiesta. Infatti, scorrendo nel codice di \textsf{getConnection()} di \textsf{DriverManager}, che a sua volta invoca il metodo omonimo da \textsf{Connection} e qui troviamo il ciclo \textit{for} che sarà responsabile del controllo di validità del driver sottoposto:\newline
	\end{flushleft}
					
\begin{lstlisting}[language=java, caption=Ciclo che controlla la validità del driver]
private static Connection getConnection(...) {
[...]
	for(DriverInfo aDriver : registeredDrivers) {
		// If the caller does not have permission to load the driver then
		// skip it.
		if(isDriverAllowed(aDriver.driver, callerCL)) {
			try {
				println("    trying " + aDriver.driver.getClass().getName());
				Connection con = aDriver.driver.connect(url, info);
				if (con != null) {
					// 	Success!
					println("getConnection returning " + aDriver.driver.getClass().getName());
					return (con);
				}
			} catch (SQLException ex) {
					if (reason == null) {
						reason = ex;
					}
			}
		} else {
			println("skipping:" + aDriver.getClass().getName());
		}
	}
	[...]
}
\end{lstlisting}
		\begin{flushleft}
			Una volta effettuata la connessione con il database particolare, le chiamate a funzione che interagiranno con lo stesso saranno indipendenti dal DBMS utilizzato proprio grazie allo strato di astrazione inserito da JDBC. Se avessimo necessità di cambiare DBMS, potremmo sfruttare tutto il codice già scritto per interagire con il database, a patto di cambiare i parametri di configurazione validi per la nuova scelta adottata.\newline
			Nonostante l'estrema portabilità introdotta da JDBC, si è mosso un ulteriore passo in avanti con l'introduzione della tecnica di programmazione \textit{ORM}, ovvero \textit{Object Relational Mapping}.
		\end{flushleft}
	
	\subsubsection{Tecnica ORM e Hibernate}	
		La Object-Relational Mapping \'{e} una tecnica di programmazione che viene adottata quando si vuole favorire l'integrazione di DBMS relazionali con linguaggi di programmazione orientati agli oggetti. Questo processo di fusione tra programma ad oggetti e database relazione viene messo in atto tramite metodi resi disponibili dal \textit{framework ORM}. Alcuni dei pi\'{u} diffusi sono:
			\begin{itemize}
				\item JPA
				\item Hibernate
				\item Spring DAO
			\end{itemize}
		\begin{flushleft}
			Il vantaggio principale offerto da questi framework è rappresentato da una maggiore coesione nel codice, dato che le interazioni con il database possono essere anche effettuate senza l'utilizzo esplicito di query SQL. Nella pagina seguente vengono confrontati a titolo di esempio l'inserimento di una riga tramite l'interfaccia JDBC con l'inserimento tramite il framework Hibernate. Appare chiara la facilitazione introdotta dalla tecnica ORM, la quale svincola il programmatore dal costruire query per ogni interazione particolare con il database, oltre al particolare database stesso.\newline\newline
			Per la realizzazione di questo progetto si è utilizzato come detto in precedenza l'interfaccia JDBC, tuttavia per curiosità personale è stata sviluppata una web application che implementa un sottoinsieme molto limitato dei requisiti funzionali richiesti ma che si interfaccia con il database tramite il framework Hibernate.\newline A margine, la libreria JPA non è stata scartata per motivazioni legate alla difficoltà di utilizzo o di avviamento dell'ambiente di programmazione.  
		\end{flushleft}
		
\begin{minipage}[t]{.45\textwidth}
	\begin{lstlisting}[language=java,caption=Insert JDBC]
		Statement st = null;
		try {
			st = conn.createStatement();
			////sql contiene la stringa della query/////
				st.executeUpdate(sql);
			////////////////////////
			st.close();
		} catch (SQLException e) {
			e.printStackTrace();
		}
	\end{lstlisting}%
\end{minipage}%
\hfill
\begin{minipage}[t]{.45\textwidth}
	\begin{lstlisting}[language=java, caption=Insert Hibernate]
	try {
		sessionFactory = new MetadataSources(registry ).
		buildMetadata().buildSessionFactory();
		Session session = sessionFactory.openSession();
		session.beginTransaction();
		//////////////////
			session.save(object);
		/////////////////
		session.getTransaction().commit();
		session.close();
	} catch (Exception e) {
		StandardServiceRegistryBuilder.
		destroy(registry);
	}
	\end{lstlisting}%
\end{minipage}%
	
	\begin{flushleft}
		Come possiamo leggere nelle descrizioni presenti nel \textsf{\href{http://hibernate.org/orm/}{sito dedicato}}, il framework Hibernate realizza l'interazione con la base di dati interfacciandosi con \textit{JDBC} e, sulla base di questo, realizza tutto quell'insieme di metodi che permettono un utilizzo ancora più semplificato del codice necessario per comunicare con i DBMS. Solitamente le tabelle presenti nel database, insieme alle rispettive colonne, rispecchiano le classi presenti nel class diagram, insieme ai rispettivi attributi. I framework ORM tengono conto proprio di questo fatto ed accorciano la distanza tra programma e base di dati servendosi di annotazioni all'interno della definizione di ogni classe che deve essere salvata. In aggiunta, \textit{Hibernate} risulta essere un'implementazione dell'interfaccia JPA, la quale introduce annotazioni ad hoc, tra le quali in \textit{Hibernate} ritroviamo:
		\begin{itemize}
			\item \textcolor{red}{\textsf{@Entity}}, che denota tipicamente una tabella nel database
			\item \textcolor{red}{\textsf{@Id}}, che definisce la chiave primaria della relazione
			\item \textcolor{red}{\textsf{@Table}}, che specifica il nome della tabella da mappare
			\item \textcolor{red}{\textsf{@Column}}, che specifica la colonna da mappare
			\item \textcolor{red}{\textsf{@OneToOne}} e simili, caratterizzano la cardinalità di una relazione
		\end{itemize}
		\begin{flushleft}
			A differenza dell'interfaccia \textit{JDBC} che sfrutta oggetti di tipo \textsf{Connection}, in Hibernate utilizziamo un oggetto di tipo \textsf{SessionFactory} che si serve a sua volta di un oggetto di tipo \textsf{StandardServiceRegistry} addetto al recupero di informazioni dal file di configurazione \textsf{hibernate.cfg.xml} settato precedentemente all'esecuzione. L'oggetto \textsf{sessionFactory} istanzia un oggetto \textsf{session} la cui funzione principale \textsf{\href{http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Session.html}{(doc)}} è fornire le operazioni di creazione, lettura e cancellazione delle istanze relative alle classi mappate, come riportato di seguito:
		\end{flushleft}
		\begin{lstlisting}[language=java, caption=Utilizzo di SessionFactory]
			SessionFactory factory = new SessionFactory(); //semplificato per sintesi
			Session sess = factory.openSession();
			Transaction tx;
			try {
				tx = sess.beginTransaction();
				//...
				tx.commit();
			} catch (Exception e) {
				if (tx!=null) tx.rollback();
				throw e;
			} finally {
				sess.close();
			}
		\end{lstlisting}
		\begin{flushleft}
			All'interno della web application è stato realizzato il CRUD completo per la classe \textit{User}, oltre alla ricerca per nome di una galassia, sfruttando proprio il framework \textit{Hibernate}.
		\end{flushleft} 
	\end{flushleft}
	
	\subsection{Gestione delle versioni: Git \& Github}
		\begin{flushleft}
			In materia di controllo delle versioni del software, Git risulta essere uno tra i più diffusi al mondo. Linus Thorvalds cominciò lo sviluppo di questo applicativo per sostenere la crescita di contributi al suo primo grande progetto, Linux, come viene spiegato in un passo di questa intervista rilasciata presso il canale TED (\textsf{\href{http://www.ted.com/talks/linus_torvalds_the_mind_behind_linux}{link}}).\newline
			Git consente principalmente di sviluppare un codice non necessariamente monolitico, dando la possibilità di creare delle diramazioni (\textit{branch}) al flusso principale. Una volta che le diramazioni sono abbastanza mature, c'è la possibilità di unire (\textit{merge}) il codice sviluppato indipendemente dal \textit{master branch}. 
			Queste due caratteristiche sono particolarmente importanti in un progetto distribuito, sviluppato da più persone. 
		\end{flushleft}
	\begin{center}
		\begin{figure}[h]
			\includegraphics[scale=0.6]{Linux.PNG}
			\caption{Pagina web su Github relativa al progetto Linux - Dicembre 2016}
		\end{figure}
	\end{center}
		\begin{flushleft}
			In questo caso il progetto risulta decisamente poco distribuito ma lo strumento si rivela ugualmente utile ogni volta che si ha intenzione di tornare ad una versione (funzionante) precedente a quella che si ha fra le mani.\newline
			Git è un sistema di controllo delle versioni distribuito ed in quanto tale necessita di spazio in rete per caricare il codice sviluppato, affinchè possa essere utilizzato da più persone o anche come backup personale nel caso di un progetto in solitaria. Se non si dispone di uno spazio in rete, la piattaforma \textsf{\href{https://github.com/}{Github}}, servizio di hosting di rete che si propone anche come intermediario tra l'utente e Git tramite i software standalone, risulterà una soluzione economica ed efficace. Sul sito di Github è possibile inoltre visionare i repository pubblici e, se presente, leggere la wiki a corredo del codice.\newline\newline
			L'indirizzo del repository relativo a questo progetto è \textsf{\href{https://github.com/dailytowns/ProgettoBasi}{repo}}
		\end{flushleft}

%\include{B-albero}

%%%%%%%%%%%%%%%% BIBLIOGRAFIA %%%%%%%%%%%%%%%%%%%%%%%%
\newpage

\section{Cenni riguardo gli indici}

	\begin{flushleft}
		Nella traccia del progetto non vi era alcun riferimento alla progettazione degli indici per la base di dati. Tuttavia, a titolo di curiosità, viene riportata l'interrogazione che è possibile sottoporre all'interno di \textit{PgAdmin} per recuperare gli indici in uso all'interno del database. Questo risultato torna utile in sede di progettazione fisica, dal momento che evita la creazione di query per la creazione di indici che sono già gestiti dal DBMS.
	\end{flushleft}
	\begin{lstlisting}[language=SQL, caption=Cerca indici]
		SELECT i.relname as indname,
			i.relowner as indowner,
			idx.indrelid::regclass,
			am.amname as indam,
			idx.indkey,
				ARRAY(
					SELECT pg_get_indexdef(idx.indexrelid, k + 1, true)
					FROM generate_subscripts(idx.indkey, 1) as k
					ORDER BY k
				) 	as indkey_names,
					idx.indexprs IS NOT NULL as indexprs,
					idx.indpred IS NOT NULL as indpred
						FROM   pg_index as idx
							JOIN   pg_class as i
							ON     i.oid = idx.indexrelid
								JOIN   pg_am as am
								ON     i.relam = am.oid;
	\end{lstlisting}
	\vspace{20mm}
	\begin{figure}[h]
		\centering
		\includegraphics[width=150mm]{QueryIndici.PNG}
		\caption{Risultato della query}
	\end{figure}
\newpage

\section{Manuale d'uso}
	\begin{flushleft}
		Il manuale d'uso dell'applicazione sviluppata è stato suddiviso per requisiti funzionali in modo che fosse facilitata la fase di test.
	\end{flushleft}
	\subsection{RF1 e RF2: Login e Tipologia utenti}
		\begin{flushleft}
			L'utente avvia l'applicazione e visualizza la schermata in cui gli viene richiesto di inserire le proprie credenziali per effettuare l'accesso al sistema.
			Se i dati immessi sono corretti, si visualizza l'interfaccia dedicata al tipo di utente che sta effettuando l'accesso.
		\end{flushleft}
		\begin{figure}[!h]
			\centering
			\includegraphics[width=120mm]{RF1.PNG}
			\caption{Login}
		\end{figure}
	\begin{figure}[h!]
		\centering
		\begin{minipage}[c]{.45\textwidth}
			\includegraphics[width=70mm]{RF1admin.PNG}
			\caption{Amministratore}
		\end{minipage}%
		\centering
		\begin{minipage}[c]{.45\textwidth}
			\includegraphics[width=70mm]{RF1user.PNG}
			\caption{Utente registrato}
		\end{minipage}%
	\end{figure}
\newpage
	\subsection{RF3 e RF4: Utente amministratore}
		\begin{flushleft}
			1) Per importare un file dei dati scientifici, l'utente amministratore dovrà selezionare il menù in alto \textit{Importa} e di seguito il sottomenù \textit{Importa file CSV...}. Verrà mostrata a schermo la finestra che permette di selezionare il file nella cartella dove è stato salvato. Una volta selezionato il file, in base al tipo di file sottoposto verranno importati corrispondenti.\newline
			All'interno della web application si procede analogamente: una volta selezionato il bottone addetto all'import del file, e una volta scelto il file da caricare, l'applicazione provvederà a caricare il file sul server ed una volta terminata l'operazione procede all'import dei dati.
			\begin{figure}[!h]
				\centering
				\begin{minipage}[c]{.45\textwidth}
					\includegraphics[width=70mm]{RF3Import.PNG}
					\caption{Menù import standalone}
				\end{minipage}%
				\centering
				\begin{minipage}[c]{.45\textwidth}
					\includegraphics[width=70mm]{RF3file.PNG}
					\caption{Finestra del file system}
				\end{minipage}%
			\end{figure}
			\begin{figure}[h]
				\centering
				\includegraphics[width=70mm]{RF3ImportWeb.PNG}
				\caption{Import del file dalla web application}
			\end{figure}
		\end{flushleft}
		\begin{flushleft}
			2) Per registrare un nuovo utente, operazione consentita soltanto ad un utente amministratore, si dovrà selezionare il menù \textit{Utenti} ed il sottomenù \textit{Registra utente...}. Apparirà dunque una finestra in cui è possibile inserire i dati dell'utente oltre a scegliere se l'utente è un amministratore o meno.
		\end{flushleft}
		\begin{figure}[!h]
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF3RegistraUtente.PNG}
				\caption{Menù da selezionare per registrare un utente}
			\end{minipage}%
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF3RegistraUtenteFinestra.PNG}
				\caption{Finestra di registrazione di un utente}
			\end{minipage}%
		\end{figure}
\newpage
	\subsection{RF5: Ricerca di un oggetto per nome}
		\begin{flushleft}
			Un utente del sistema può ricercare dati relativi ad una galassia tramite selezione dell'apposito menù \textit{Ricerca galassie} e sottomenù \textit{Ricerca galassie per nome...} Nel caso in cui non si conosca il nome corretto della galassia da ricercare si può sia reperire dalla schermata principale, sia ricercare tramite parte del nome. Infatti verrà ritornata una lista di galassie il cui nome comincia con la stringa passata come input.\newline
			Nella web application bisogna cliccare analogamente sul menù \textit{Galassie} in alto, ma a differenza dell'applicazione standalone sarà necessario immettere il nome della galassia corretto, altrimenti non verrà ritornata alcuna informazione utile.
			\begin{figure}[!h]
				\centering
				\begin{minipage}[c]{.45\textwidth}
					\includegraphics[width=60mm]{RF5RicercaGalassiaNome.PNG}
					\caption{Menù ricerca galassie\newline per nome}
				\end{minipage}%
				\centering
				\begin{minipage}[c]{.45\textwidth}
					\includegraphics[width=60mm]{RF5RicercaGalassiaNomeFinestra.PNG}
					\caption{Finestra di ricerca delle galassie per nome}
				\end{minipage}%
			\end{figure}
			\begin{figure}[h]
				\centering
				\includegraphics[width=60mm]{RF5RicercaGalassiaNomeWeb.PNG}
				\caption{Ricerca di una galassia per nome da web app}
			\end{figure}
		\end{flushleft}
	\subsection{RF6: Ricerca di un oggetto all'interno di un raggio}
		\begin{flushleft}
			Un utente generico può effettuare la ricerca di tutte le galassie all'interno della sfera di raggio definito dall'utente. Selezionato il menù \textit{Ricerca galassie} e successivamente il sottomenù \textit{Ricerca galassie per raggio...}, verrà visualizzata una finestra all'interno della quale dovranno essere riempiti tutti i campi per definire le coordinate del punto oggetto di calcolo. Infatti per ogni galassia viene recuperata la posizione, definita da declinazione ed ascensione retta, e calcolata la distanza dal punto immesso dall'utente. Se il risultato è minore del raggio immesso dall'utente la galassia verrà aggiunta alla lista ritornata.
		\end{flushleft}
			\begin{figure}[!h]
				\centering
				\begin{minipage}[c]{.45\textwidth}
					\includegraphics[width=60mm]{RF6RicercaGalassieRaggio.PNG}
					\caption{Menù da selezionare per\newline ricercare galassie all'interno di un raggio}
				\end{minipage}%
				\centering
				\begin{minipage}[c]{.45\textwidth}
					\includegraphics[width=60mm]{RF6RicercaGalassieRaggioFinestra.PNG}
					\caption{Finestra di registrazione di un utente}
				\end{minipage}%
			\end{figure}
		\newpage
	\subsection{RF7: Ricerca di galassie per caratteristiche fisiche}
		\begin{flushleft}
			Il requisito richiede il recupero di tutte le galassie che abbiano \textit{redshift} maggiore o uguale oppure minore o uguale a quello inserito dall'utente. Per effettuare questo tipo di ricerca selezionare il menù \textit{Ricerca galassie} ed il sottomenù \textit{Ricerca galassie per redshift...}. Verrà visualizzata la finestra in cui sarà richiesto di immettere sia il valore di redshift desiderato sia il tipo di intervallo richiesto.
		\end{flushleft}
		\begin{figure}[!h]
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF7RicercaGalassieRedshift.PNG}
				\caption{Menù da selezionare per\newline ricercare galassie per redshift}
			\end{minipage}%
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF7RicercaGalassieRedshiftFinestra.PNG}
				\caption{Finestra di ricerca per redshift}
			\end{minipage}%
		\end{figure}
	\subsection{RF8: Valori delle linee spettrali}
		\begin{flushleft}
			L'utente potrà ricercare i valori dei flussi presenti nel database selezionando il menù \textit{Ricerca flussi} ed il sottomenù \textit{Ricerca flussi di una galassia...}. Verrà quindi visualizzata a schermo una finestra in cui sarà richiesto di immettere il nome della galassia da ricercare all'interno del database e le righe relative alla galassia. Nel caso in cui l'utente immetta solo parte del nome della galassia, verranno recuperate tutte le galassie il cui nome comincia con la stringa passata dall'utente.
		\end{flushleft}
		\begin{figure}[!h]
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF8RicercaFlussi.PNG}
				\caption{Menù da selezionare per\newline ricercare flussi di una galassia}
			\end{minipage}%
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF8RicercaFlussiFinestra.PNG}
				\caption{Finestra di ricerca flussi di una galassia}
			\end{minipage}%
		\end{figure}
	\subsection{RF9: Valori dei rapporti delle righe}
		\begin{flushleft}
			Per calcolare il rapporto tra due righe relative ad una galassia, selezionare il menù \textit{Ricerca flussi} ed il sottomenù \textit{Rapporti tra flussi...}, il quale visualizzerà la finestra in cui sarà precedentemente richiesto di immettere il nome della galassia di cui calcolare i rapporti e di cliccare successivamente sul bottone \textit{Cerca}. Verranno inserite nelle caselle di scelta solo le righe disponibili nella base di dati. Va perciò scelto il tipo di flusso e la riga corrispondente di cui si vuole calcolare il rapporto. Una volta confermata la selezione, viene ritornato il risultato e resettate le caselle di scelta.
		\end{flushleft}
		\begin{figure}[!h]
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF9RicercaRapportiRighe.PNG}
				\caption{Menù da selezionare per\newline ricercare flussi di una galassia}
			\end{minipage}%
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF9RicercaRapportiRigheFinestra1.PNG}
				\caption{Finestra di calcolo dei rapporti delle righe}
			\end{minipage}%
		\end{figure}
	\subsection{RF11: Rapporto tra flusso e continuo}
		\begin{flushleft}
			Per calcolare il rapporto tra il flusso delle righe e il suo corrispettivo continuo basta seguire i passaggi descritti nel punto precedente, avendo l'accortezza di scegliere \textit{flussorighehp} e la riga nella fila superiore, \textit{flussocontinuo} e la stessa riga nella fila inferiore.
		\end{flushleft}
	\subsection{RF10: Valori dei rapporti delle righe per gruppo spettrale}
		\begin{flushleft}
			Per calcolare valori statistici sui rapporti delle righe, selezionare il menù \textit{Ricerca flussi} ed il sottomenù \textit{Statistiche sui rapporti fra flussi...}. Verrà visualizzata una finestra in cui sarà possibile inserire il tipo di flusso per cui si vogliono calcolare le statistiche e, una volta scelto questo, sarà possibile scegliere la riga su cui si vuole lavorare. È inoltre possibile aggiungere il parametro di \textit{aperture}.
		\end{flushleft}
		\begin{figure}[!h]
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF10Statistiche.PNG}
				\caption{Menù da selezionare per\newline calcolare statistiche sulle righe}
			\end{minipage}%
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF10StatisticheFinestra.PNG}
				\caption{Finestra di calcolo delle statistiche sulle righe}
			\end{minipage}%
		\end{figure}
	\subsection{Dump del database}
		\begin{flushleft}
			Non essendo possibile eseguire comandi della shell \textit{PSQL} da programma Java, il dump del database è stato simulato utilizzando i metodi di import a cui vengono passate directory predefinite.\newline
			Se si vuole verificare il dump da console, verrà effettuato in sede di discussione del progetto.
		\end{flushleft}
	\subsection{RF12: CRUD utente}
		\begin{flushleft}
			Il requisito è stato aggiunto artificiosamente.\newline\newline
			All'interno della web application è possibile gestire il CRUD della classe User. Dopo aver effettuato l'accesso come amministratore, cliccare su \textit{Lista utenti} e, all'interno della lista, scegliere l'azione da intraprendere tramite gli appositi bottoni. Per registrare un utente, basta cliccare su \textit{Registra utente} e riempire il form visualizzato a schermo.
		\end{flushleft}
		\begin{figure}[!h]
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF12RegistraUtente1.PNG}
				\caption{Registrazione utente da web application}
			\end{minipage}%
			\centering
			\begin{minipage}[c]{.45\textwidth}
				\includegraphics[width=60mm]{RF12RegistraUtente2.PNG}
				\caption{Form di registrazione}
			\end{minipage}%
		\end{figure}
	
	\newpage
\renewcommand\refname{Bibliografia}
\begin{thebibliography} {99}
	\bibitem{Atzeni} Atzeni, Ceri, Fraternali, Paraboschi, Torlone
	"Basi di dati Modelli e linguaggi di interrogazione"
	Quarta edizione, McGraw-Hill, 2013
	\bibitem{BasiPitagora} Beneventano, Bergamaschi, Guerra, Vincini "Progetto di Basi di Dati Relazionali lezioni ed esercizi"
	Pitagora Editrice Bologna, 2007
	\bibitem {WikiORM} https://it.wikipedia.org/wiki/Object-relational\_mapping;
	\bibitem{JDBCDriver} http://www.xyzws.com/javafaq/what-does-classforname-method-do/17
	\bibitem{libpq} https://www.postgresql.org/docs/9.3/static/client-interfaces.html
	\bibitem{astronomia}http://www.astronomia.com
	\bibitem{spettroinfrarosso}http://docenti.unicam.it/tmp/2441.pdf
	\bibitem{Arlow} J. Arlow, Neustadt, Uml e Unified Process
\end{thebibliography}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\end{document}
